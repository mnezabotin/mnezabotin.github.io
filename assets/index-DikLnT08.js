(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))f(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&f(r)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function f(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}})();const J=()=>{const t=document.createElement("canvas"),s=t.getContext("2d");if(!s)throw new Error("CanvasRenderingContext2D is null");const a=()=>{t.width=innerWidth*devicePixelRatio,t.height=innerHeight*devicePixelRatio,s.scale(devicePixelRatio,devicePixelRatio)},f=n=>{s.clearRect(0,0,innerWidth,innerHeight),n()};return a(),document.body.appendChild(t),{ctx:s,render:f,resize:a,rotate:(n,u,d,p)=>{s.save(),s.translate(u,d),s.rotate(Math.PI*p),s.translate(-u,-d),n(),s.restore()},translate:(n,u,d)=>{s.save(),s.translate(u,d),n(),s.restore()},shade:(n,u)=>{n=n.substring(1);const d=parseInt(n,16),p=Math.round(2.55*u),h=(d>>16)+p,l=(d>>8&255)+p,g=(d&255)+p;return"#"+(16777216+(h<255?h<1?0:h:255)*65536+(l<255?l<1?0:l:255)*256+(g<255?g<1?0:g:255)).toString(16).slice(1)},setBackground:(n,u)=>{var d;document.body.style.background=n,document.body.style.backgroundColor=u||n,(d=document.querySelector('meta[name="theme-color"]'))==null||d.setAttribute("content",u||n)},createImg:(n,u,d=u)=>{const p=document.createElement("canvas"),h=p.getContext("2d");if(!h)throw new Error("CanvasRenderingContext2D is null");return p.width=u*devicePixelRatio,p.height=d*devicePixelRatio,h.scale(devicePixelRatio,devicePixelRatio),n(h),p}}},Q=t=>{let s="",a="",f;const o=e=>t.find(i=>i.name===e)||t[0],r={render:()=>{},navigate:(e,i)=>{const n=o(e);a=s||"",s=(n==null?void 0:n.name)||"",f=i,r.render=(n==null?void 0:n.ctor())||(()=>{})},useScreenMeta:()=>({to:s,from:a,data:f})};return r},Z=()=>{const t=requestAnimationFrame||(r=>setTimeout(r,16.666666666666668)),s=[],a={};return{loop:(r,e)=>{if(Object.entries(a).find(([n,u])=>u===r)||e&&a[e])throw new Error(`Loop${e?" "+e:""} already specified`);e&&s.push(e),e=e||new Date().valueOf().toString(),a[e]=r;const i=()=>{r(),a[e]&&t(i)};i()},stop:r=>{if(typeof r=="string")delete a[r];else{const e=Object.entries(a).find(([i,n])=>n===r);e&&delete a[e[0]]}},stopAll:()=>{for(const r in a)s.indexOf(r)===-1&&delete a[r]}}};let B=[];const ee=()=>{for(const t of B)clearTimeout(t);B=[]},te=(t,s=400)=>{let a=new Date,f=s,o=setTimeout(t,f);return B.push(o),{pause:()=>{clearTimeout(o),f-=new Date-a},resume:()=>{a=new Date,clearTimeout(o),o=setTimeout(t,f),B.push(o)},stop:()=>{clearTimeout(o)}}},j=2147483646,F=2147483647,ne=16807,oe=(t=Math.floor(Math.random()*F))=>{t=t%F,t<=0&&(t+=j);const s=()=>(t=t*ne%F,t),a=()=>(s()-1)/j;return(o,c)=>(c===void 0&&(c=o,o=0),Math.floor(a()*(c-o+1))+o)},re=(t,s)=>(s===void 0&&(s=t,t=0),Math.floor(Math.random()*(s-t+1))+t),se=()=>{const t=[],s=[];return{addEventResize:e=>{e(),t.push(e)},onResizeEvents:()=>t.forEach(e=>e()),addEventClick:e=>{s.push(e)},onClickEvents:(e,i)=>s.forEach(n=>n(e,i)),removeAllEvents:()=>{t.splice(0),s.splice(0)}}},T=(t,s)=>{const a=Math.pow(Math.abs(t.x-s.x),2),f=Math.pow(Math.abs(t.y-s.y),2),o=t.r||0,c=s.r||0,r=Math.pow(o+c,2);return a+f<=r},ie=(t,s)=>{const a=t.r||0,f=s.w||0,o=s.h||0;return Math.abs(s.x+f/2-t.x)<=f/2+a&&Math.abs(s.y+o/2-t.y)<=o/2+a},ce=(t,s)=>T(t,s),ae=t=>{const s={},a=o=>{const c=o.split("/");return c[c.length-1].split(".")[0]};return(()=>{for(const o of t){const c=new Audio(o);c.volume=.25,c.addEventListener("ended",function(){this.currentTime=0});const r=a(o);s[r]={audio:c,path:o}}})(),o=>{var i,n;const c=(i=s[o])==null?void 0:i.audio,r=(n=s[o])==null?void 0:n.path;if(!(!c||!r))if(c.currentTime===0)c.play();else{var e=new Audio(r);e.volume=.25,e.play()}}};let O;const de=(t,s)=>{if(O)throw new Error("Webcore already specified");const a=J(),f=Q(t),{loop:o,stop:c,stopAll:r}=Z(),{addEventResize:e,onResizeEvents:i,addEventClick:n,onClickEvents:u,removeAllEvents:d}=se();let p=innerWidth/2,h=innerHeight/2,l=innerWidth<innerHeight?innerWidth:innerHeight,g=Math.ceil(Math.sqrt(innerWidth*innerWidth+innerHeight*innerHeight)/144);const m=()=>({cx:p,cy:h,s:l,m:g}),M=ae([]);O={font:"Tijuf",ctx:a.ctx,shade:a.shade,rotate:a.rotate,translate:a.translate,setBackground:a.setBackground,createImg:a.createImg,useMeasure:m,useScreenMeta:f.useScreenMeta,navigate:(y,E)=>{if(!t.some(v=>v.name===y))throw new Error(`Screen ${y} not specified`);r(),ee(),d(),new Promise(()=>f.navigate(y,E))},loop:o,loopStop:c,useTimer:te,rand:re,useRandChain:oe,intersect:ce,addEventResize:e,addEventClick:n,playAudio:M},o(()=>a.render(f.render),"draw"),window.onresize=()=>{p=innerWidth/2,h=innerHeight/2,l=innerWidth<innerHeight?innerWidth:innerHeight,g=Math.ceil(Math.sqrt(innerWidth*innerWidth+innerHeight*innerHeight)/144),a.resize(),i()},document.onpointerdown=y=>{u(y.clientX,y.clientY)},f.navigate()},P=()=>{if(!O)throw new Error("Webcore not specified");return{...O}},L={},x=t=>{const{shade:s,ctx:a,createImg:f}=P(),o=()=>{const{r,c:e="#ffffff",p:i}=t,n=a.createRadialGradient(r,r,r,r,r,r/5);return n.addColorStop(0,s(e,0)),n.addColorStop(.01,s(e,0)),n.addColorStop(.075,s(e,9)),n.addColorStop(.15,s(e,0)),n.addColorStop(.15,s(e,-15)),n.addColorStop(.18,s(e,-5)),n.addColorStop(.22,s(e,-15)),i?(n.addColorStop(.24,s(e,-10)),n.addColorStop(.3,s(e,-8)),n.addColorStop(.34,s(e,-12)),n.addColorStop(.6,s(e,-6)),n.addColorStop(1,s(e,-4))):(n.addColorStop(.24,s(e,-12)),n.addColorStop(.26,s(e,-8)),n.addColorStop(.3,s(e,-2)),n.addColorStop(.34,s(e,0)),n.addColorStop(.5,s(e,5)),n.addColorStop(1,s(e,10))),n},c=()=>{const{r,c:e="#ffffff",p:i}=t,n=`${e}_${i?"push":"pop"}_${r}`;if(L[n])return L[n];const u=f((d=a)=>{const p=o();d.fillStyle=p,d.beginPath(),d.arc(r,r,r,0,2*Math.PI),d.closePath(),d.fill()},2*r);return L[n]=u,u};return(r=a)=>{const{x:e,y:i,r:n}=t,u=c();r.drawImage(u,e-n,i-n,2*n,2*n)}},N={},k=t=>{const{ctx:s}=P();let a;return N[t.src]?a=N[t.src]:(a=new Image,a.src=t.src,N[t.src]=a),(f=s)=>{const{w:o,h:c=o,x:r=0,y:e=0}=t;a.complete&&f.drawImage(a,r,e,o,c)}},q=t=>{const{font:s,ctx:a}=P(),f=t.text,o=t.text.length,c=2*Math.PI/o/4;return(r=a)=>{const{x:e,y:i,r:n,s:u=0,fs:d}=t,p=d||Math.round(n/4);r.textAlign="center",r.fillStyle="#f9f9f9",r.font=`${p}px ${s}`,r.save(),r.translate(e,i),r.rotate(u);for(let h=0;h<o;h++)r.save(),r.rotate(h*c),r.fillText(f[h],0,-n),r.restore();r.restore()}},le=()=>{var y,E;const{ctx:t,loop:s,rotate:a,navigate:f,useMeasure:o,addEventClick:c,addEventResize:r,setBackground:e}=P();e("#040404");let i=!1,n,u,d,p,h,l=-.2,g=0;r(()=>{const{cx:v,cy:S,s:b}=o(),w=Math.round(b*.25);n={c:"#ff6347",x:v,y:S,r:w,p:!1},u=x(n),d=k({x:v-w+Math.round(w*.35),y:S-w+Math.round(w*.35),w:w*2-Math.round(w*.7),src:"/media/sloth.svg"}),p=q({text:"nezabotin",x:v,y:S,r:Math.round(w*1.1),s:Math.PI*1.6}),h=q({text:"production",x:v,y:S,r:Math.round(w*1.1),s:Math.PI*2.6})});const m=()=>{l+=.01,g=l>=1?1:l,l>=1.8&&(n.p=!0),l>=2.2&&(n.c="#f86a9a"),l>=2.6&&f("main")};c(()=>{[1.4,1.8,2.2,2.6].some(v=>{if(l<v)return l=v,!0})});const M=()=>{s(m),i=!0};return(y=document==null?void 0:document.fonts)!=null&&y.ready?(E=document==null?void 0:document.fonts)==null||E.ready.then(M):M(),()=>{const{cx:v,cy:S}=o();t.globalAlpha=i?1:0,u(),l<1.8&&d(),l<1.4&&a(()=>{p(),h()},v,S,g),t.globalAlpha=1}},ue=()=>{const{addEventResize:t,useMeasure:s,useTimer:a,useScreenMeta:f,navigate:o,addEventClick:c,intersect:r}=P(),{from:e}=f();let i,n,u;return t(()=>{const{cx:h,cy:l,s:g,m}=s(),M=Math.round(g*.25);i={c:"#ba68c8",r:Math.round(g*.08),x:h-M-1*m,y:l-M+1*m,p:(e==="score"||e==="opening")&&!i},n=x(i),u=k({x:Number(i.x)-i.r+Math.round(i.r*.5),y:Number(i.y)-i.r+Math.round(i.r*.5),w:i.r*2-Math.round(i.r*1),src:"/media/star.svg"})}),a(()=>{i.p=!1}),c((h,l)=>{r({x:h,y:l},i)&&(i.p=!0,a(()=>{o("score")},100))}),{render:()=>{n(),i.p||u()},point:()=>({x:i.x,y:i.y,r:i.r})}},he=()=>{const{addEventResize:t,useMeasure:s,useTimer:a,useScreenMeta:f,navigate:o,addEventClick:c,intersect:r}=P(),{from:e}=f();let i,n,u;return t(()=>{const{s:h}=s(),l=Math.round(h*.08);i={c:"#ff6347",r:l,x:Math.round(1.6*l),y:Math.round(1.6*l),p:e==="main"&&!i},n=x(i),u=k({x:Number(i.x)-l+Math.round(l*.4),y:Number(i.y)-l+Math.round(l*.4),w:l*2-Math.round(l*.8),src:"/media/back.svg"})}),a(()=>{i.p=!1}),c((h,l)=>{r({x:h,y:l},i)&&(i.p=!0,a(()=>{o("main")},100))}),{render:()=>{n(),i.p||u()},point:()=>({x:i.x,y:i.y,r:i.r})}},fe=t=>{const{addEventResize:s,useMeasure:a,useTimer:f,addEventClick:o,intersect:c,rotate:r}=P();let e,i,n;return s(()=>{const{s:p}=a(),h=Math.round(p*.055);e={c:"#ff6347",r:h,x:Math.round(innerWidth-1.6*h),y:Math.round(innerHeight-1.6*h),p:!1},i=x(e),n=k({x:Number(e.x)-h+Math.round(h*.4),y:Number(e.y)-h+Math.round(h*.4),w:h*2-Math.round(h*.8),src:"/media/back.svg"})}),o((p,h)=>{c({x:p,y:h},e)&&(e.p=!0,t(),f(()=>{e.p=!1},100))}),{render:()=>{i(),e.p||r(()=>{n()},e.x,e.y,-.5)},point:()=>({x:e.x,y:e.y,r:e.r})}},pe=t=>{const{addEventResize:s,useMeasure:a,useTimer:f,addEventClick:o,intersect:c,rotate:r}=P();let e,i,n;return s(()=>{const{s:p}=a(),h=Math.round(p*.055);e={c:"#ff6347",r:h,x:Math.round(innerWidth-1.6*h),y:Math.round(innerHeight-1.6*h-2*h-.3*h),p:!1},i=x(e),n=k({x:Number(e.x)-h+Math.round(h*.4),y:Number(e.y)-h+Math.round(h*.4),w:h*2-Math.round(h*.8),src:"/media/back.svg"})}),o((p,h)=>{c({x:p,y:h},e)&&(e.p=!0,t(),f(()=>{e.p=!1},100))}),{render:()=>{i(),e.p||r(()=>{n()},e.x,e.y,.5)},point:()=>({x:e.x,y:e.y,r:e.r})}},me=t=>{const{ctx:s,shade:a}=P(),f=Math.round(t.r/2.2),o=Math.round(.15*t.r),c=a(t.c||"blue",-3);return(r=s)=>{const{r:e,x:i=e,y:n=e}=t;r.lineCap="round",r.fillStyle=c,r.strokeStyle=c,r.lineWidth=f,r.beginPath(),r.moveTo(i+o,n),r.lineTo(i-o/2,n-o),r.lineTo(i-o/2,n+o),r.closePath(),r.fill(),r.beginPath(),r.moveTo(i+o,n),r.lineTo(i-o/2,n-o),r.moveTo(i-o/2,n-o),r.lineTo(i-o/2,n+o),r.moveTo(i-o/2,n+o),r.lineTo(i+o,n),r.stroke()}},ge=()=>{const{addEventResize:t,useMeasure:s,useTimer:a,useScreenMeta:f,navigate:o,addEventClick:c,intersect:r}=P(),{from:e}=f();let i,n,u;return t(()=>{const{cx:h,cy:l,s:g,m}=s(),M=Math.round(g*.25);i={c:"#bef181",r:Math.round(g*.1),x:h+M+2*m,y:l+M,p:(e==="game"||e==="opening")&&!i},n=x(i),u=me(i)}),a(()=>{i.p=!1}),c((h,l)=>{r({x:h,y:l},i)&&(i.p=!0,a(()=>{o("game")},100))}),{render:()=>{n(),i.p||u()},point:()=>({x:i.x,y:i.y,r:i.r})}},X=t=>{const{font:s,ctx:a}=P();return(f=a)=>{const{text:o,x:c,c:r,y:e,fs:i,a:n="center",mw:u}=t;f.textAlign=n,f.fillStyle=r,f.font=`${i}px ${s}`,f.fillText(o,c,e,u)}},Me=()=>{const{addEventResize:t,useMeasure:s,useTimer:a,useScreenMeta:f}=P(),{from:o}=f();let c,r,e,i;return t(()=>{const{cx:d,cy:p,s:h}=s(),l=Math.round(h*.25);c={c:"#f86a9a",x:d,y:p,r:l,p:o==="opening"&&!c},r=x(c),e=X({text:"Yola",c:"#f1f1f1",x:d,y:p-l+Math.round(l*.9),fs:Math.round(l/2.6),mw:l*2}),i=X({text:"PopiT",c:"#ffeb3b",x:d,y:p-l+Math.round(l*1.3),fs:Math.round(l/2.3),mw:l*2})}),a(()=>c.p=!1),{render:()=>{r(),c.p||(e(),i())},point:()=>({x:c.x,y:c.y,r:c.r})}},U=({color:t="#00dcfe",frequency:s=25})=>{const{addEventResize:a,useRandChain:f,useMeasure:o,rand:c,useTimer:r,setBackground:e,useScreenMeta:i}=P(),{from:n}=i();e(t);const u=c(0,999);let d=[],p=[];a(()=>{const m=f(u),{s:M}=o();d=[];const y=Math.round(M*.05),E=Math.round(innerWidth/y/2)-1,v=Math.round((innerWidth-2*y*E)/(E+1)),S=Math.round(innerHeight/y/2)-1,b=Math.round((innerHeight-2*y*S)/(S+1));for(let w=0;w<S;w++)for(let C=0;C<E;C++)m(m(s))<1&&d.push({x:v+y+C*y*2+v*C,y:b+y+w*y*2+b*w,r:y,c:t,p:n==="opening"?!0:m(1)>0});p=d.map(w=>x(w))});const h=()=>{r(()=>{const m=c(d.length-1);d[m]&&(d[m].p=!d[m].p),h()},750)};return n==="opening"?r(()=>{d.forEach(m=>m.p=c(1)>0),h()}):h(),{render:()=>{p.forEach(m=>m())},setIntersections:m=>{d=d.filter(({x:M,y,r:E})=>m(M,y,E)),p=d.map(M=>x(M))}}},V=(t=!1)=>{const s=["#f86a9a","#C69FEE","#5bb2f7","#92E6E6","#7ceab2","#bef181","#EFCD74","#fd8059"],{addEventResize:a,useMeasure:f,setBackground:o}=P();return t||a(()=>{const{s:r}=f(),e=Math.round(r*.14),i=Math.round(innerWidth/e/2)-1,n=(innerWidth-2*e*i)/(i+1),u=Math.round(innerHeight/e/2)-1,d=(innerHeight-2*e*u)/(u+1),p=innerWidth>=innerHeight,h=p?i:u,l=p?n:d,g=p?innerWidth:innerHeight;let m=0;const M=[];for(let E=0;E<h;E++)s[m]||(m=0),M.push(`${s[m]} ${(l+e+E*e*2+l*E)/g*100}%`),m++;o(`linear-gradient(${p?"to right":"to bottom"}, ${M.join(", ")})`,s[0])}),s},ve=t=>{const{ctx:s,shade:a}=P(),f=Math.round(t.r/4),o=Math.round(.12*t.r);return(c=s)=>{const{r,x:e=r,y:i=r}=t,n=a(t.c||"blue",-3);c.lineCap="round",c.strokeStyle=n,c.lineWidth=f,c.beginPath(),c.moveTo(e-1.5*o,i-2*o),c.lineTo(e-1.5*o,i+2*o),c.stroke(),c.beginPath(),c.moveTo(e+1.5*o,i-2*o),c.lineTo(e+1.5*o,i+2*o),c.stroke()}},Y=({palette:t,retry:s})=>{const{addEventResize:a,useMeasure:f,rand:o,useTimer:c,useScreenMeta:r,navigate:e,addEventClick:i,intersect:n}=P(),{from:u}=r(),d=[];let p=[],h,l,g,m;const M=E=>Array.isArray(t)?t[E]:t;return a(()=>{const{s:E}=f();d.splice(0);const v=Math.round(E*.14),S=Math.round(innerWidth/v/2)-1,b=(innerWidth-2*v*S)/(S+1),w=Math.round(innerHeight/v/2)-1,C=(innerHeight-2*v*w)/(w+1),G=innerWidth>=innerHeight;let W=0;for(let R=0;R<w;R++){for(let z=0;z<S;z++){M(W)||(W=0);const _={x:b+v+z*v*2+b*z,y:C+v+R*v*2+C*R,r:v,c:M(W),p:!0};R===0&&z===S-1?(m={..._,p:(u==="main"||u==="gameover"||u==="gamescore")&&!m},h=x(m),l=ve(m)):d.push(_),W+=G?1:0}W=G?0:W+1}s&&(g=d[o(d.length-1)],c(()=>{g.p=!1})),p=d.map(R=>x(R))}),c(()=>{m.p=!1}),s&&i((E,v)=>{n({x:E,y:v},g)&&(g.p=!0,c(()=>{e("game")},100))}),i((E,v)=>{n({x:E,y:v},m)&&(m.p=!0,c(()=>{e("main")},100))}),{render:()=>{p.forEach(E=>E()),h(),m!=null&&m.p||l()},popits:d}},I=100,D=2,A="#222",ye=t=>{const s=(t==null?void 0:t[0])||0,a=(t==null?void 0:t[1])||0,f=(t==null?void 0:t[2])||0;return"#"+(16777216+(s<255?s<1?0:s:255)*65536+(a<255?a<1?0:a:255)*256+(f<255?f<1?0:f:255)).toString(16).slice(1)},$={},Ee=t=>{const{ctx:s,shade:a,createImg:f}=P();let o;$[t.imgSrc]?o=$[t.imgSrc]:(o=$[t.imgSrc]={img:new Image,cols:[],isFilled:!1,r:t.r,drawImg:null,score:t.score},o.img.src=t.imgSrc);const c=(n,u=s)=>{const{x:d,y:p,c:h,r:l,p:g}=n;g?(u.fillStyle=a(h,5),u.beginPath(),u.arc(d+l,p+l,l,0,Math.PI*2),u.closePath(),u.fill()):(u.fillStyle=h,u.beginPath(),u.arc(d+l,p+l,l+2,0,Math.PI*2),u.closePath(),u.fill())},r=()=>{const n=[],u=(t.r*2-2*D)/I;for(let d=0;d<I;d++)for(let p=0;p<I;p++){const h={x:D+p*u,y:D+d*u,r:u/2,c:d*100+p>=t.score?A:o.cols[p][d]};n.push(h)}return n},e=()=>{const n=r();o.drawImg=f((u=s)=>{n.filter(d=>d.c===A).forEach(d=>c(d,u)),n.filter(d=>d.c!==A).forEach(d=>c(d,u)),n.filter(d=>d.c!==A).forEach(d=>c({...d,p:!0},u))},2*t.r)},i=async()=>{var d;const n=document.createElement("canvas");n.width=I,n.height=I;const u=n.getContext("2d",{willReadFrequently:!0});u==null||u.drawImage(o.img,0,0);for(let p=0;p<I;p++){const h=[];for(let l=0;l<I;l++){const g=(d=u==null?void 0:u.getImageData(p,l,1,1))==null?void 0:d.data;h.push(ye(g))}o.cols.push(h)}o.isFilled=!0,e()};return o.isFilled?(o.r!==t.r||o.score!==t.score)&&e():o.img.onload=i,(n=s)=>{const{x:u,y:d,r:p}=t;o.drawImg&&n.drawImage(o.drawImg,u-p,d-p,2*p,2*p)}},H=1e4,K=()=>{const{addEventResize:t,useMeasure:s,translate:a,rand:f}=P(),o=["/media/cat.png"],c=f(o.length*H);let r,e=0,i=0,n=Math.floor(c/H);return t(()=>{const{cx:l,cy:g,s:m}=s();r=[],e=(m-2*m*.055*1.6)/2,i=m*.05;for(let M=0;M<o.length;M++){const y=o[M];r.push(Ee({x:l,y:g+M*e*2+M*i,r:e,score:c-M*H<0?0:c-M*H,imgSrc:y}))}}),{up:()=>{n=n+1<o.length?n+1:o.length-1},down:()=>{n=n-1<0?0:n-1},render:()=>{a(()=>{r==null||r.forEach(l=>l())},0,-(n*e*2+n*i))},rect:()=>{const{cx:l,cy:g}=s(),m=innerWidth>innerHeight;return{x:m?l-e:0,y:m?0:g-e,w:m?2*e:innerWidth,h:m?innerHeight:2*e}}}},Pe=t=>{const{useTimer:s,rand:a,addEventClick:f,intersect:o,navigate:c}=P();let r=[],e,i,n=!1,u=0;const d=()=>{i=s(()=>{if(t.length===r.length){n=!0,i.stop(),s(()=>{c("gameover")});return}const l=t.filter(M=>r.indexOf(M)===-1),g=a(l.length-1),m=l[g];m&&(m.p=!1,r.push(l[g])),d()})},p=l=>{r=[];const g=t.length;let m=a(Math.round(g*.3),Math.round(g*.6));const M=[...t];if(l){const y=M.indexOf(l);M.splice(y,1)}for(let y=m;y>0;y--){const E=a(M.length-1),v=M[E];v.p=!1,r.push(v),M.splice(E,1)}e==null||e.stop(),i==null||i.stop(),e=s(d,r.length*250),u=u>0?u:a(3,5)},h=l=>{l.p=!0;const g=r.indexOf(l);r.splice(g,1),r.length<=0&&(u--,u>0?p(l):c("gamescore"))};f((l,g)=>{if(!n)for(const m of r)o({x:l,y:g},m)&&h(m)}),s(()=>{p()})},we=()=>{const{addEventResize:t}=P(),{render:s,setIntersections:a}=U({}),{render:f,point:o}=Me(),{render:c,point:r}=ge(),{render:e,point:i}=ue();return t(()=>{const n=i(),u=o(),d=r();a((p,h,l)=>!T({x:p,y:h,r:l},n)&&!T({x:p,y:h,r:l},u)&&!T({x:p,y:h,r:l},d))}),()=>{s(),f(),c(),e()}},Se=()=>{const t=V(),{popits:s,render:a}=Y({palette:t});return Pe(s),()=>{a()}},xe=()=>{const t="#ff6347",{setBackground:s}=P(),{render:a}=Y({palette:t,retry:!0});return s(t),()=>{a()}},be=()=>{const{addEventClick:t,navigate:s}=P();V();const{render:a}=K();return t(()=>{s("game")}),()=>{a()}},Ce=()=>{const{addEventResize:t}=P(),{render:s,setIntersections:a}=U({color:"#ffeb3b",frequency:10}),{render:f,rect:o,up:c,down:r}=K(),{render:e,point:i}=he(),{point:n}=fe(c),{point:u}=pe(r);return t(()=>{const d=i(),p=o(),h=n(),l=u();a((g,m,M)=>!T({x:g,y:m,r:M},d)&&!ie({x:g,y:m,r:M},p)&&!T({x:g,y:m,r:M},h)&&!T({x:g,y:m,r:M},l))}),()=>{s(),f(),e()}},Re=()=>{const{ctx:t,addEventResize:s,loop:a}=P(),f={x:40,y:100};let o=1,c=1,r;const e=()=>{r=5*Math.ceil(Math.sqrt(innerWidth*innerWidth+innerHeight*innerHeight)/144)};return e(),s(e),a(()=>{f.x+=2*o,f.y+=3*c,o*=-1,c*=-1}),()=>{t.save();var i=Math.random()*2,n=Math.random()*3;t.translate(i,n),t.beginPath(),t.fillStyle="red",t.rect(f.x,f.y,r,r),t.fill(),t.restore()}},Ie=[{name:"opening",ctor:le},{name:"main",ctor:we},{name:"game",ctor:Se},{name:"gameover",ctor:xe},{name:"gamescore",ctor:be},{name:"score",ctor:Ce},{name:"devs",ctor:Re}];de(Ie);document.title="Your's last Popit";
