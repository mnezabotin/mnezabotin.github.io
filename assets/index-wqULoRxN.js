(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))f(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&f(r)}).observe(document,{childList:!0,subtree:!0});function c(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function f(n){if(n.ep)return;n.ep=!0;const a=c(n);fetch(n.href,a)}})();const J=()=>{const t=document.createElement("canvas"),s=t.getContext("2d");if(!s)throw new Error("CanvasRenderingContext2D is null");const c=()=>{t.width=innerWidth*devicePixelRatio,t.height=innerHeight*devicePixelRatio,s.scale(devicePixelRatio,devicePixelRatio)},f=o=>{s.clearRect(0,0,innerWidth,innerHeight),o()};return c(),document.body.appendChild(t),{ctx:s,render:f,resize:c,rotate:(o,d,h,p)=>{s.save(),s.translate(d,h),s.rotate(Math.PI*p),s.translate(-d,-h),o(),s.restore()},translate:(o,d,h)=>{s.save(),s.translate(d,h),o(),s.restore()},shade:(o,d)=>{o=o.substring(1);const h=parseInt(o,16),p=Math.round(2.55*d),l=(h>>16)+p,u=(h>>8&255)+p,m=(h&255)+p;return"#"+(16777216+(l<255?l<1?0:l:255)*65536+(u<255?u<1?0:u:255)*256+(m<255?m<1?0:m:255)).toString(16).slice(1)},setBackground:(o,d)=>{var h;document.body.style.background=o,document.body.style.backgroundColor=d||o,(h=document.querySelector('meta[name="theme-color"]'))==null||h.setAttribute("content",d||o)},createImg:(o,d,h=d)=>{const p=document.createElement("canvas"),l=p.getContext("2d");if(!l)throw new Error("CanvasRenderingContext2D is null");return p.width=d*devicePixelRatio,p.height=h*devicePixelRatio,l.scale(devicePixelRatio,devicePixelRatio),o(l),p}}},Q=t=>{let s="",c="",f;const n=e=>t.find(i=>i.name===e)||t[0],r={render:()=>{},navigate:(e,i)=>{const o=n(e);c=s||"",s=(o==null?void 0:o.name)||"",f=i,r.render=(o==null?void 0:o.ctor())||(()=>{})},useScreenMeta:()=>({to:s,from:c,data:f})};return r},Z=()=>{const t=requestAnimationFrame||(r=>setTimeout(r,16.666666666666668)),s=[],c={};return{loop:(r,e)=>{if(Object.entries(c).find(([o,d])=>d===r)||e&&c[e])throw new Error(`Loop${e?" "+e:""} already specified`);e&&s.push(e),e=e||new Date().valueOf().toString(),c[e]=r;const i=()=>{r(),c[e]&&t(i)};i()},stop:r=>{if(typeof r=="string")delete c[r];else{const e=Object.entries(c).find(([i,o])=>o===r);e&&delete c[e[0]]}},stopAll:()=>{for(const r in c)s.indexOf(r)===-1&&delete c[r]}}};let H=[];const ee=()=>{for(const t of H)clearTimeout(t);H=[]},te=(t,s=400)=>{let c=new Date,f=s,n=setTimeout(t,f);return H.push(n),{pause:()=>{clearTimeout(n),f-=new Date-c},resume:()=>{c=new Date,clearTimeout(n),n=setTimeout(t,f),H.push(n)},stop:()=>{clearTimeout(n)}}},j=2147483646,O=2147483647,ne=16807,oe=(t=Math.floor(Math.random()*O))=>{t=t%O,t<=0&&(t+=j);const s=()=>(t=t*ne%O,t),c=()=>(s()-1)/j;return(n,a)=>(a===void 0&&(a=n,n=0),Math.floor(c()*(a-n+1))+n)},re=(t,s)=>(s===void 0&&(s=t,t=0),Math.floor(Math.random()*(s-t+1))+t),se=()=>{const t=[],s=[];return{addEventResize:e=>{e(),t.push(e)},onResizeEvents:()=>t.forEach(e=>e()),addEventClick:e=>{s.push(e)},onClickEvents:(e,i)=>s.forEach(o=>o(e,i)),removeAllEvents:()=>{t.splice(0),s.splice(0)}}},ie=(t,s)=>{const c=t.r||0,f=s.r||0,n=t.x||0,a=t.y||0,r=s.x||0,e=s.y||0,i=Math.pow(Math.abs(n-r),2),o=Math.pow(Math.abs(a-e),2),d=Math.pow(c+f,2);return i+o<=d},I=(t,s)=>{const c=Math.pow(Math.abs(t.x-s.x),2),f=Math.pow(Math.abs(t.y-s.y),2),n=t.r||0,a=s.r||0,r=Math.pow(n+a,2);return c+f<=r},ce=(t,s)=>{const c=t.r||0,f=s.w||0,n=s.h||0;return Math.abs(s.x+f/2-t.x)<=f/2+c&&Math.abs(s.y+n/2-t.y)<=n/2+c},ae=t=>{const s={},c=n=>{const a=n.split("/");return a[a.length-1].split(".")[0]};return(()=>{for(const n of t){const a=new Audio(n);a.volume=.25,a.addEventListener("ended",function(){this.currentTime=0});const r=c(n);s[r]={audio:a,path:n}}})(),n=>{var i,o;const a=(i=s[n])==null?void 0:i.audio,r=(o=s[n])==null?void 0:o.path;if(!(!a||!r))if(a.currentTime===0)a.play();else{var e=new Audio(r);e.volume=.25,e.play()}}};let B;const de=(t,s)=>{if(B)throw new Error("Webcore already specified");const c=J(),f=Q(t),{loop:n,stop:a,stopAll:r}=Z(),{addEventResize:e,onResizeEvents:i,addEventClick:o,onClickEvents:d,removeAllEvents:h}=se();let p=innerWidth/2,l=innerHeight/2,u=innerWidth<innerHeight?innerWidth:innerHeight,m=Math.ceil(Math.sqrt(innerWidth*innerWidth+innerHeight*innerHeight)/144);const M=()=>({cx:p,cy:l,s:u,m}),g=ae([]);B={font:"Tijuf",ctx:c.ctx,shade:c.shade,rotate:c.rotate,translate:c.translate,setBackground:c.setBackground,createImg:c.createImg,useMeasure:M,useScreenMeta:f.useScreenMeta,navigate:(w,y)=>{if(!t.some(v=>v.name===w))throw new Error(`Screen ${w} not specified`);r(),ee(),h(),new Promise(()=>f.navigate(w,y))},loop:n,loopStop:a,useTimer:te,rand:re,useRandChain:oe,intersect:ie,addEventResize:e,addEventClick:o,playAudio:g},n(()=>c.render(f.render),"draw"),window.onresize=()=>{p=innerWidth/2,l=innerHeight/2,u=innerWidth<innerHeight?innerWidth:innerHeight,m=Math.ceil(Math.sqrt(innerWidth*innerWidth+innerHeight*innerHeight)/144),c.resize(),i()},document.onpointerdown=w=>{d(w.clientX,w.clientY)},f.navigate()},E=()=>{if(!B)throw new Error("Webcore not specified");return{...B}},F={},b=t=>{const{shade:s,ctx:c,createImg:f}=E(),n=()=>{const{r,c:e="#ffffff",p:i}=t,o=c.createRadialGradient(r,r,r,r,r,r/5);return o.addColorStop(0,s(e,0)),o.addColorStop(.01,s(e,0)),o.addColorStop(.075,s(e,9)),o.addColorStop(.15,s(e,0)),o.addColorStop(.15,s(e,-15)),o.addColorStop(.18,s(e,-5)),o.addColorStop(.22,s(e,-15)),i?(o.addColorStop(.24,s(e,-10)),o.addColorStop(.3,s(e,-8)),o.addColorStop(.34,s(e,-12)),o.addColorStop(.6,s(e,-6)),o.addColorStop(1,s(e,-4))):(o.addColorStop(.24,s(e,-12)),o.addColorStop(.26,s(e,-8)),o.addColorStop(.3,s(e,-2)),o.addColorStop(.34,s(e,0)),o.addColorStop(.5,s(e,5)),o.addColorStop(1,s(e,10))),o},a=()=>{const{r,c:e="#ffffff",p:i}=t,o=`${e}_${i?"push":"pop"}_${r}`;if(F[o])return F[o];const d=f((h=c)=>{const p=n();h.fillStyle=p,h.beginPath(),h.arc(r,r,r,0,2*Math.PI),h.closePath(),h.fill()},2*r);return F[o]=d,d};return(r=c)=>{const{x:e,y:i,r:o}=t,d=a();r.drawImage(d,e-o,i-o,2*o,2*o)}},N={},W=t=>{const{ctx:s}=E();let c;return N[t.src]?c=N[t.src]:(c=new Image,c.src=t.src,N[t.src]=c),(f=s)=>{const{w:n,h:a=n,x:r=0,y:e=0}=t;c.complete&&f.drawImage(c,r,e,n,a)}},q=t=>{const{font:s,ctx:c}=E(),f=t.text,n=t.text.length,a=2*Math.PI/n/4;return(r=c)=>{const{x:e,y:i,r:o,s:d=0,fs:h}=t,p=h||Math.round(o/4);r.textAlign="center",r.fillStyle="#f9f9f9",r.font=`${p}px ${s}`,r.save(),r.translate(e,i),r.rotate(d);for(let l=0;l<n;l++)r.save(),r.rotate(l*a),r.fillText(f[l],0,-o),r.restore();r.restore()}},le=()=>{var w,y;const{ctx:t,loop:s,rotate:c,navigate:f,useMeasure:n,addEventClick:a,addEventResize:r,setBackground:e}=E();e("#040404");let i=!1,o,d,h,p,l,u=-.2,m=0;r(()=>{const{cx:v,cy:x,s:S}=n(),P=Math.round(S*.25);o={c:"#ff6347",x:v,y:x,r:P,p:!1},d=b(o),h=W({x:v-P+Math.round(P*.35),y:x-P+Math.round(P*.35),w:P*2-Math.round(P*.7),src:"/media/sloth.svg"}),p=q({text:"nezabotin",x:v,y:x,r:Math.round(P*1.1),s:Math.PI*1.6}),l=q({text:"production",x:v,y:x,r:Math.round(P*1.1),s:Math.PI*2.6})});const M=()=>{u+=.01,m=u>=1?1:u,u>=1.8&&(o.p=!0),u>=2.2&&(o.c="#f86a9a"),u>=2.6&&f("main")};a(()=>{[1.4,1.8,2.2,2.6].some(v=>{if(u<v)return u=v,!0})});const g=()=>{s(M),i=!0};return(w=document==null?void 0:document.fonts)!=null&&w.ready?(y=document==null?void 0:document.fonts)==null||y.ready.then(g):g(),()=>{const{cx:v,cy:x}=n();t.globalAlpha=i?1:0,d(),u<1.8&&h(),u<1.4&&c(()=>{p(),l()},v,x,m),t.globalAlpha=1}},ue=()=>{const{addEventResize:t,useMeasure:s,useTimer:c,addEventClick:f,navigate:n,useScreenMeta:a}=E(),{from:r}=a();let e,i,o;return t(()=>{const{cx:p,cy:l,s:u,m}=s(),M=Math.round(u*.25);e={c:"#ba68c8",r:Math.round(u*.08),x:p-M-1*m,y:l-M+1*m,p:(r==="score"||r==="opening")&&!e},i=b(e),o=W({x:Number(e.x)-e.r+Math.round(e.r*.5),y:Number(e.y)-e.r+Math.round(e.r*.5),w:e.r*2-Math.round(e.r*1),src:"/media/star.svg"})}),c(()=>{e.p=!1}),f((p,l)=>{I({x:p,y:l},e)&&(e.p=!0,c(()=>{n("score")},100))}),{render:()=>{i(),e.p||o()},point:()=>({x:e.x,y:e.y,r:e.r})}},he=()=>{const{addEventResize:t,useMeasure:s,useTimer:c,addEventClick:f,intersect:n,navigate:a,useScreenMeta:r}=E(),{from:e}=r();let i,o,d;return t(()=>{const{s:l}=s(),u=Math.round(l*.08);i={c:"#ff6347",r:u,x:Math.round(1.6*u),y:Math.round(1.6*u),p:e==="main"&&!i},o=b(i),d=W({x:Number(i.x)-u+Math.round(u*.4),y:Number(i.y)-u+Math.round(u*.4),w:u*2-Math.round(u*.8),src:"/media/back.svg"})}),c(()=>{i.p=!1}),f((l,u)=>{n({x:l,y:u},i)&&(i.p=!0,c(()=>{a("main")},100))}),{render:()=>{o(),i.p||d()},point:()=>({x:i.x,y:i.y,r:i.r})}},fe=t=>{const{addEventResize:s,useMeasure:c,useTimer:f,addEventClick:n,intersect:a,rotate:r}=E();let e,i,o;return s(()=>{const{s:p}=c(),l=Math.round(p*.055);e={c:"#ff6347",r:l,x:Math.round(innerWidth-1.6*l),y:Math.round(innerHeight-1.6*l),p:!1},i=b(e),o=W({x:Number(e.x)-l+Math.round(l*.4),y:Number(e.y)-l+Math.round(l*.4),w:l*2-Math.round(l*.8),src:"/media/back.svg"})}),n((p,l)=>{a({x:p,y:l},e)&&(e.p=!0,t(),f(()=>{e.p=!1},100))}),{render:()=>{i(),e.p||r(()=>{o()},e.x,e.y,-.5)},point:()=>({x:e.x,y:e.y,r:e.r})}},pe=t=>{const{addEventResize:s,useMeasure:c,useTimer:f,addEventClick:n,intersect:a,rotate:r}=E();let e,i,o;return s(()=>{const{s:p}=c(),l=Math.round(p*.055);e={c:"#ff6347",r:l,x:Math.round(innerWidth-1.6*l),y:Math.round(innerHeight-1.6*l-2*l-.3*l),p:!1},i=b(e),o=W({x:Number(e.x)-l+Math.round(l*.4),y:Number(e.y)-l+Math.round(l*.4),w:l*2-Math.round(l*.8),src:"/media/back.svg"})}),n((p,l)=>{a({x:p,y:l},e)&&(e.p=!0,t(),f(()=>{e.p=!1},100))}),{render:()=>{i(),e.p||r(()=>{o()},e.x,e.y,.5)},point:()=>({x:e.x,y:e.y,r:e.r})}},me=t=>{const{ctx:s,shade:c}=E(),f=Math.round(t.r/2.2),n=Math.round(.15*t.r),a=c(t.c||"blue",-3);return(r=s)=>{const{r:e,x:i=e,y:o=e}=t;r.lineCap="round",r.fillStyle=a,r.strokeStyle=a,r.lineWidth=f,r.beginPath(),r.moveTo(i+n,o),r.lineTo(i-n/2,o-n),r.lineTo(i-n/2,o+n),r.closePath(),r.fill(),r.beginPath(),r.moveTo(i+n,o),r.lineTo(i-n/2,o-n),r.moveTo(i-n/2,o-n),r.lineTo(i-n/2,o+n),r.moveTo(i-n/2,o+n),r.lineTo(i+n,o),r.stroke()}},ge=()=>{const{addEventResize:t,useMeasure:s,useTimer:c,addEventClick:f,intersect:n,navigate:a,useScreenMeta:r}=E(),{from:e}=r();let i,o,d;return t(()=>{const{cx:l,cy:u,s:m,m:M}=s(),g=Math.round(m*.25);i={c:"#bef181",r:Math.round(m*.1),x:l+g+2*M,y:u+g,p:(e==="game"||e==="opening")&&!i},o=b(i),d=me(i)}),c(()=>{i.p=!1}),f((l,u)=>{n({x:l,y:u},i)&&(i.p=!0,c(()=>{a("game")},100))}),{render:()=>{o(),i.p||d()},point:()=>({x:i.x,y:i.y,r:i.r})}},X=t=>{const{font:s,ctx:c}=E();return(f=c)=>{const{text:n,x:a,c:r,y:e,fs:i,a:o="center",mw:d}=t;f.textAlign=o,f.fillStyle=r,f.font=`${i}px ${s}`,f.fillText(n,a,e,d)}},Me=()=>{const{addEventResize:t,useMeasure:s,useTimer:c,useScreenMeta:f}=E(),{from:n}=f();let a,r,e,i;return t(()=>{const{cx:h,cy:p,s:l}=s(),u=Math.round(l*.25);a={c:"#f86a9a",x:h,y:p,r:u,p:n==="opening"&&!a},r=b(a),e=X({text:"Yola",c:"#f1f1f1",x:h,y:p-u+Math.round(u*.9),fs:Math.round(u/2.6),mw:u*2}),i=X({text:"PopiT",c:"#ffeb3b",x:h,y:p-u+Math.round(u*1.3),fs:Math.round(u/2.3),mw:u*2})}),c(()=>a.p=!1),{render:()=>{r(),a.p||(e(),i())},point:()=>({x:a.x,y:a.y,r:a.r})}},U=(t="#00dcfe")=>{const{addEventResize:s,useRandChain:c,useMeasure:f,rand:n,useTimer:a,setBackground:r,useScreenMeta:e}=E(),{from:i}=e();r(t);const o=n(0,999);let d=[],h=[];s(()=>{const m=c(o),{s:M}=f();d=[];const g=Math.round(M*.05),w=Math.round(innerWidth/g/2)-1,y=Math.round((innerWidth-2*g*w)/(w+1)),v=Math.round(innerHeight/g/2)-1,x=Math.round((innerHeight-2*g*v)/(v+1));for(let S=0;S<v;S++)for(let P=0;P<w;P++)m(m(25))<1&&d.push({x:y+g+P*g*2+y*P,y:x+g+S*g*2+x*S,r:g,c:t,p:i==="opening"?!0:m(1)>0});h=d.map(S=>b(S))});const p=()=>{a(()=>{const m=n(d.length-1);d[m]&&(d[m].p=!d[m].p),p()})};return i==="opening"?a(()=>{d.forEach(m=>m.p=n(1)>0),p()}):p(),{render:()=>{h.forEach(m=>m())},setIntersections:m=>{d=d.filter(({x:M,y:g,r:w})=>m(M,g,w)),h=d.map(M=>b(M))}}},V=(t=!1)=>{const s=["#f86a9a","#C69FEE","#5bb2f7","#92E6E6","#7ceab2","#bef181","#EFCD74","#fd8059"],{addEventResize:c,useMeasure:f,setBackground:n}=E();return t||c(()=>{const{s:r}=f(),e=Math.round(r*.14),i=Math.round(innerWidth/e/2)-1,o=(innerWidth-2*e*i)/(i+1),d=Math.round(innerHeight/e/2)-1,h=(innerHeight-2*e*d)/(d+1),p=innerWidth>=innerHeight,l=p?i:d,u=p?o:h,m=p?innerWidth:innerHeight;let M=0;const g=[];for(let y=0;y<l;y++)s[M]||(M=0),g.push(`${s[M]} ${(u+e+y*e*2+u*y)/m*100}%`),M++;n(`linear-gradient(${p?"to right":"to bottom"}, ${g.join(", ")})`,s[0])}),s},ve=t=>{const{ctx:s,shade:c}=E(),f=Math.round(t.r/4),n=Math.round(.12*t.r);return(a=s)=>{const{r,x:e=r,y:i=r}=t,o=c(t.c||"blue",-3);a.lineCap="round",a.strokeStyle=o,a.lineWidth=f,a.beginPath(),a.moveTo(e-1.5*n,i-2*n),a.lineTo(e-1.5*n,i+2*n),a.stroke(),a.beginPath(),a.moveTo(e+1.5*n,i-2*n),a.lineTo(e+1.5*n,i+2*n),a.stroke()}},Y=({palette:t,retry:s})=>{const{navigate:c,addEventResize:f,addEventClick:n,useMeasure:a,rand:r,useTimer:e,intersect:i,useScreenMeta:o}=E(),{from:d}=o(),h=[];let p=[],l={x:0,y:0,r:0},u,m,M;const g=y=>Array.isArray(t)?t[y]:t;return f(()=>{const{s:y}=a();h.splice(0);const v=Math.round(y*.14),x=Math.round(innerWidth/v/2)-1,S=(innerWidth-2*v*x)/(x+1),P=Math.round(innerHeight/v/2)-1,$=(innerHeight-2*v*P)/(P+1),G=innerWidth>=innerHeight;let T=0;for(let C=0;C<P;C++){for(let z=0;z<x;z++){g(T)||(T=0);const _={x:S+v+z*v*2+S*z,y:$+v+C*v*2+$*C,r:v,c:g(T),p:!0};C===0&&z===x-1?(l={..._,p:(d==="main"||d==="gameover"||d==="gamescore")&&!l},u=b(l),m=ve(l)):h.push(_),T+=G?1:0}T=G?0:T+1}s&&(M=h[r(h.length-1)]),p=h.map(C=>b(C))}),e(()=>{l.p=!1}),s&&(e(()=>{M.p=!1}),n((y,v)=>{i({x:y,y:v},M)&&(M.p=!0,e(()=>{c("game")},100))})),n((y,v)=>{i({x:y,y:v},l)&&(l.p=!0,e(()=>{c("main")},100))}),{render:()=>{p.forEach(y=>y()),u(),l!=null&&l.p||m()},popits:h}},R=100,L=2,k="#222",ye=t=>{const s=(t==null?void 0:t[0])||0,c=(t==null?void 0:t[1])||0,f=(t==null?void 0:t[2])||0;return"#"+(16777216+(s<255?s<1?0:s:255)*65536+(c<255?c<1?0:c:255)*256+(f<255?f<1?0:f:255)).toString(16).slice(1)},D={},we=t=>{const{ctx:s,shade:c,createImg:f}=E();let n;D[t.imgSrc]?n=D[t.imgSrc]:(n=D[t.imgSrc]={img:new Image,cols:[],isFilled:!1,r:t.r,drawImg:null,score:t.score},n.img.src=t.imgSrc);const a=(o,d=s)=>{const{x:h,y:p,c:l,r:u,p:m}=o;m?(d.fillStyle=c(l,5),d.beginPath(),d.arc(h+u,p+u,u,0,Math.PI*2),d.closePath(),d.fill()):(d.fillStyle=l,d.beginPath(),d.arc(h+u,p+u,u+2,0,Math.PI*2),d.closePath(),d.fill())},r=()=>{const o=[],d=(t.r*2-2*L)/R;for(let h=0;h<R;h++)for(let p=0;p<R;p++){const l={x:L+p*d,y:L+h*d,r:d/2,c:h*100+p>=t.score?k:n.cols[p][h]};o.push(l)}return o},e=()=>{const o=r();n.drawImg=f((d=s)=>{o.filter(h=>h.c===k).forEach(h=>a(h,d)),o.filter(h=>h.c!==k).forEach(h=>a(h,d)),o.filter(h=>h.c!==k).forEach(h=>a({...h,p:!0},d))},2*t.r)},i=async()=>{var h;const o=document.createElement("canvas");o.width=R,o.height=R;const d=o.getContext("2d",{willReadFrequently:!0});d==null||d.drawImage(n.img,0,0);for(let p=0;p<R;p++){const l=[];for(let u=0;u<R;u++){const m=(h=d==null?void 0:d.getImageData(p,u,1,1))==null?void 0:h.data;l.push(ye(m))}n.cols.push(l)}n.isFilled=!0,e()};return n.isFilled?(n.r!==t.r||n.score!==t.score)&&e():n.img.onload=i,(o=s)=>{const{x:d,y:h,r:p}=t;n.drawImg&&o.drawImage(n.drawImg,d-p,h-p,2*p,2*p)}},A=1e4,K=()=>{const{addEventResize:t,useMeasure:s,translate:c,rand:f}=E(),n=["/media/cat.png"],a=f(n.length*A);let r,e=0,i=0,o=Math.floor(a/A);return t(()=>{const{cx:u,cy:m,s:M}=s();r=[],e=(M-2*M*.055*1.6)/2,i=M*.05;for(let g=0;g<n.length;g++){const w=n[g];r.push(we({x:u,y:m+g*e*2+g*i,r:e,score:a-g*A<0?0:a-g*A,imgSrc:w}))}}),{up:()=>{o=o+1<n.length?o+1:n.length-1},down:()=>{o=o-1<0?0:o-1},render:()=>{c(()=>{r==null||r.forEach(u=>u())},0,-(o*e*2+o*i))},rect:()=>{const{cx:u}=s();return{x:u-e,y:0,w:2*e,h:innerHeight}}}},Ee=t=>{const{useTimer:s,rand:c,addEventClick:f,intersect:n,navigate:a}=E();let r=[],e,i,o=!1,d=0;const h=()=>{i=s(()=>{if(t.length===r.length){o=!0,i.stop(),s(()=>{a("gameover")});return}const u=t.filter(g=>r.indexOf(g)===-1),m=c(u.length-1),M=u[m];M&&(M.p=!1,r.push(u[m])),h()})},p=u=>{r=[];const m=t.length;let M=c(Math.round(m*.3),Math.round(m*.6));const g=[...t];if(u){const w=g.indexOf(u);g.splice(w,1)}for(let w=M;w>0;w--){const y=c(g.length-1),v=g[y];v.p=!1,r.push(v),g.splice(y,1)}e==null||e.stop(),i==null||i.stop(),e=s(h,r.length*350),d=d>0?d:c(3,5)},l=u=>{u.p=!0;const m=r.indexOf(u);r.splice(m,1),r.length<=0&&(d--,d>0?p(u):a("gamescore"))};f((u,m)=>{if(!o)for(const M of r)n({x:u,y:m},M)&&l(M)}),s(()=>{p()})},Pe=()=>{const{addEventResize:t}=E(),{render:s,setIntersections:c}=U(),{render:f,point:n}=Me(),{render:a,point:r}=ge(),{render:e,point:i}=ue();return t(()=>{const o=i(),d=n(),h=r();c((p,l,u)=>!I({x:p,y:l,r:u},o)&&!I({x:p,y:l,r:u},d)&&!I({x:p,y:l,r:u},h))}),()=>{s(),f(),a(),e()}},xe=()=>{const t=V(),{popits:s,render:c}=Y({palette:t});return Ee(s),()=>{c()}},Se=()=>{const t="#ff6347",{setBackground:s}=E(),{render:c}=Y({palette:t,retry:!0});return s(t),()=>{c()}},be=()=>{const{addEventClick:t,navigate:s}=E();V();const{render:c}=K();return t(()=>{s("game")}),()=>{c()}},Ce=()=>{const{addEventResize:t}=E(),{render:s,setIntersections:c}=U("#ffeb3b"),{render:f,rect:n,up:a,down:r}=K(),{render:e,point:i}=he(),{point:o}=fe(a),{point:d}=pe(r);return t(()=>{const h=i(),p=n(),l=o(),u=d();c((m,M,g)=>!I({x:m,y:M,r:g},h)&&!ce({x:m,y:M,r:g},p)&&!I({x:m,y:M,r:g},l)&&!I({x:m,y:M,r:g},u))}),()=>{s(),f(),e()}},Re=()=>{const{ctx:t,addEventResize:s,loop:c}=E(),f={x:40,y:100};let n=1,a=1,r;const e=()=>{r=5*Math.ceil(Math.sqrt(innerWidth*innerWidth+innerHeight*innerHeight)/144)};return e(),s(e),c(()=>{f.x+=2*n,f.y+=3*a,n*=-1,a*=-1}),()=>{t.save();var i=Math.random()*2,o=Math.random()*3;t.translate(i,o),t.beginPath(),t.fillStyle="red",t.rect(f.x,f.y,r,r),t.fill(),t.restore()}},Ie=[{name:"opening",ctor:le},{name:"main",ctor:Pe},{name:"game",ctor:xe},{name:"gameover",ctor:Se},{name:"gamescore",ctor:be},{name:"score",ctor:Ce},{name:"devs",ctor:Re}];de(Ie);document.title="Your's last PopiT";
