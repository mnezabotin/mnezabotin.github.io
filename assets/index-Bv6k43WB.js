(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&u(s)}).observe(document,{childList:!0,subtree:!0});function c(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function u(o){if(o.ep)return;o.ep=!0;const a=c(o);fetch(o.href,a)}})();const q=()=>{const n=document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("CanvasRenderingContext2D is null");const c=()=>{n.width=innerWidth*devicePixelRatio,n.height=innerHeight*devicePixelRatio,r.scale(devicePixelRatio,devicePixelRatio)},u=t=>{r.clearRect(0,0,innerWidth,innerHeight),t()};return c(),document.body.appendChild(n),{ctx:r,render:u,resize:c,rotate:(t,d,h,p)=>{r.save(),r.translate(d,h),r.rotate(Math.PI*p),r.translate(-d,-h),t(),r.restore()},translate:(t,d,h)=>{r.save(),r.translate(d,h),t(),r.restore()},shade:(t,d)=>{t=t.substring(1);const h=parseInt(t,16),p=Math.round(2.55*d),l=(h>>16)+p,f=(h>>8&255)+p,m=(h&255)+p;return"#"+(16777216+(l<255?l<1?0:l:255)*65536+(f<255?f<1?0:f:255)*256+(m<255?m<1?0:m:255)).toString(16).slice(1)},setBackground:t=>document.body.style.background=t,createImg:(t,d,h=d)=>{const p=document.createElement("canvas"),l=p.getContext("2d");if(!l)throw new Error("CanvasRenderingContext2D is null");return p.width=d*devicePixelRatio,p.height=h*devicePixelRatio,l.scale(devicePixelRatio,devicePixelRatio),t(l),p}}},U=n=>{let r="",c="",u;const o=e=>n.find(i=>i.name===e)||n[0],s={render:()=>{},navigate:(e,i)=>{const t=o(e);c=r||"",r=(t==null?void 0:t.name)||"",u=i,s.render=(t==null?void 0:t.ctor())||(()=>{})},useScreenMeta:()=>({to:r,from:c,data:u})};return s},Y=()=>{const n=requestAnimationFrame||(s=>setTimeout(s,16.666666666666668)),r=[],c={};return{loop:(s,e)=>{if(Object.entries(c).find(([t,d])=>d===s)||e&&c[e])throw new Error(`Loop${e?" "+e:""} already specified`);e&&r.push(e),e=e||new Date().valueOf().toString(),c[e]=s;const i=()=>{s(),c[e]&&n(i)};i()},stop:s=>{if(typeof s=="string")delete c[s];else{const e=Object.entries(c).find(([i,t])=>t===s);e&&delete c[e[0]]}},stopAll:()=>{for(const s in c)r.indexOf(s)===-1&&delete c[s]}}};let H=[];const V=()=>{for(const n of H)clearTimeout(n);H=[]},K=(n,r=400)=>{let c=new Date,u=r,o=setTimeout(n,u);return H.push(o),{pause:()=>{clearTimeout(o),u-=new Date-c},resume:()=>{c=new Date,clearTimeout(o),o=setTimeout(n,u),H.push(o)},stop:()=>{clearTimeout(o)}}},L=2147483646,N=2147483647,J=16807,Q=(n=Math.floor(Math.random()*N))=>{n=n%N,n<=0&&(n+=L);const r=()=>(n=n*J%N,n),c=()=>(r()-1)/L;return(o,a)=>(a===void 0&&(a=o,o=0),Math.floor(c()*(a-o+1))+o)},G=(n,r)=>(r===void 0&&(r=n,n=0),Math.floor(Math.random()*(r-n+1))+n),Z=()=>{const n=[],r=[];return{addEventResize:e=>{e(),n.push(e)},onResizeEvents:()=>n.forEach(e=>e()),addEventClick:e=>{r.push(e)},onClickEvents:(e,i)=>r.forEach(t=>t(e,i)),removeAllEvents:()=>{n.splice(0),r.splice(0)}}},ee=(n,r)=>{const c=n.r||0,u=r.r||0,o=n.x||0,a=n.y||0,s=r.x||0,e=r.y||0,i=Math.pow(Math.abs(o-s),2),t=Math.pow(Math.abs(a-e),2),d=Math.pow(c+u,2);return i+t<=d},x=(n,r)=>{const c=Math.pow(Math.abs(n.x-r.x),2),u=Math.pow(Math.abs(n.y-r.y),2),o=n.r||0,a=r.r||0,s=Math.pow(o+a,2);return c+u<=s},te=(n,r)=>{const c=n.r||0,u=r.w||0,o=r.h||0;return Math.abs(r.x+u/2-n.x)<=u/2+c&&Math.abs(r.y+o/2-n.y)<=o/2+c};let z;const ne=n=>{if(z)throw new Error("Webcore already specified");const r=q(),c=U(n),{loop:u,stop:o,stopAll:a}=Y(),{addEventResize:s,onResizeEvents:e,addEventClick:i,onClickEvents:t,removeAllEvents:d}=Z();let h=innerWidth/2,p=innerHeight/2,l=innerWidth<innerHeight?innerWidth:innerHeight,f=Math.ceil(Math.sqrt(innerWidth*innerWidth+innerHeight*innerHeight)/144);const m=()=>({cx:h,cy:p,s:l,m:f});z={font:"Tijuf",ctx:r.ctx,shade:r.shade,rotate:r.rotate,translate:r.translate,setBackground:r.setBackground,createImg:r.createImg,useMeasure:m,useScreenMeta:c.useScreenMeta,navigate:(g,M)=>{if(!n.some(y=>y.name===g))throw new Error(`Screen ${g} not specified`);a(),V(),d(),new Promise(()=>c.navigate(g,M))},loop:u,loopStop:o,useTimer:K,rand:G,useRandChain:Q,intersect:ee,addEventResize:s,addEventClick:i},u(()=>r.render(c.render),"draw"),window.onresize=()=>{h=innerWidth/2,p=innerHeight/2,l=innerWidth<innerHeight?innerWidth:innerHeight,f=Math.ceil(Math.sqrt(innerWidth*innerWidth+innerHeight*innerHeight)/144),r.resize(),e()},document.ontouchstart=g=>{const M=g.touches||[];for(const y of M)t(y.clientX,y.clientY)},document.onmousedown=g=>{t(g.clientX,g.clientY)},c.navigate()},v=()=>{if(!z)throw new Error("Webcore not specified");return{...z}},F={},S=n=>{const{shade:r,ctx:c,createImg:u}=v(),o=()=>{const{r:s,c:e="#ffffff",p:i}=n,t=c.createRadialGradient(s,s,s,s,s,s/5);return t.addColorStop(0,r(e,0)),t.addColorStop(.01,r(e,0)),t.addColorStop(.075,r(e,9)),t.addColorStop(.15,r(e,0)),t.addColorStop(.15,r(e,-15)),t.addColorStop(.18,r(e,-5)),t.addColorStop(.22,r(e,-15)),i?(t.addColorStop(.24,r(e,-10)),t.addColorStop(.3,r(e,-8)),t.addColorStop(.34,r(e,-12)),t.addColorStop(.6,r(e,-6)),t.addColorStop(1,r(e,-4))):(t.addColorStop(.24,r(e,-12)),t.addColorStop(.26,r(e,-8)),t.addColorStop(.3,r(e,-2)),t.addColorStop(.34,r(e,0)),t.addColorStop(.5,r(e,5)),t.addColorStop(1,r(e,10))),t},a=()=>{const{r:s,c:e="#ffffff",p:i}=n,t=`${e}_${i?"push":"pop"}_${s}`;if(F[t])return F[t];const d=u((h=c)=>{const p=o();h.fillStyle=p,h.beginPath(),h.arc(s,s,s,0,2*Math.PI),h.closePath(),h.fill()},2*s);return F[t]=d,d};return(s=c)=>{const{x:e,y:i,r:t}=n,d=a();s.drawImage(d,e-t,i-t,2*t,2*t)}},O={},A=n=>{const{ctx:r}=v();let c;return O[n.src]?c=O[n.src]:(c=new Image,c.src=n.src,O[n.src]=c),(u=r)=>{const{w:o,h:a=o,x:s=0,y:e=0}=n;c.complete&&u.drawImage(c,s,e,o,a)}},j=(n="#00dcfe")=>{const{addEventResize:r,useRandChain:c,useMeasure:u,rand:o,useTimer:a,setBackground:s,useScreenMeta:e}=v(),{from:i}=e();s(n);const t=o(0,999);let d=[],h=[];r(()=>{const m=c(t),{s:g}=u();d=[];const M=Math.round(g*.044),y=Math.round(innerWidth/M/2)-1,P=Math.round((innerWidth-2*M*y)/(y+1)),C=Math.round(innerHeight/M/2)-1,R=Math.round((innerHeight-2*M*C)/(C+1));for(let w=0;w<C;w++)for(let E=0;E<y;E++)m(m(20))<1&&d.push({x:P+M+E*M*2+P*E,y:R+M+w*M*2+R*w,r:M,c:n,p:i==="opening"?!0:m(1)>0});h=d.map(w=>S(w))});const p=()=>{a(()=>{const m=o(d.length-1);d[m].p=!d[m].p,p()})};return i==="opening"?a(()=>{d.forEach(m=>m.p=o(1)>0),p()}):p(),{render:()=>{h.forEach(m=>m())},setIntersections:m=>{d=d.filter(({x:g,y:M,r:y})=>m(g,M,y)),h=d.map(g=>S(g))}}},k=["#f86a9a","#C69FEE","#5bb2f7","#92E6E6","#7ceab2","#bef181","#EFCD74","#fd8059"],X=.14,oe=()=>{const{addEventResize:n,useMeasure:r,setBackground:c}=v();n(()=>{const{s:u}=r(),o=Math.round(u*X),a=Math.round(innerWidth/o/2)-1,s=(innerWidth-2*o*a)/(a+1),e=Math.round(innerHeight/o/2)-1,i=(innerHeight-2*o*e)/(e+1),t=innerWidth>=innerHeight,d=t?a:e,h=t?s:i,p=t?innerWidth:innerHeight;let l=0;const f=[];for(let g=0;g<d;g++)k[l]||(l=0),f.push(`${k[l]} ${(h+o+g*o*2+h*g)/p*100}%`),l++;c(`linear-gradient(${t?"to right":"to bottom"}, ${f.join(", ")})`)})},B=n=>{const{font:r,ctx:c}=v();return(u=c)=>{const{text:o,x:a,c:s,y:e,fs:i,a:t="center",mw:d}=n;u.textAlign=t,u.fillStyle=s,u.font=`${i}px ${r}`,u.fillText(o,a,e,d)}},re=()=>{const{addEventResize:n,useMeasure:r,useTimer:c,useScreenMeta:u}=v(),{from:o}=u();let a,s,e,i;return n(()=>{const{cx:h,cy:p,s:l}=r(),f=Math.round(l*.2);a={c:"#f86a9a",x:h,y:p,r:f,p:o==="opening"&&!a},s=S(a),e=B({text:"Yola",c:"#f1f1f1",x:h,y:p-f+Math.round(f*.9),fs:Math.round(f/2.6),mw:f*2}),i=B({text:"PopiT",c:"#ffeb3b",x:h,y:p-f+Math.round(f*1.3),fs:Math.round(f/2.3),mw:f*2})}),c(()=>a.p=!1),{render:()=>{s(),a.p||(e(),i())},point:()=>({x:a.x,y:a.y,r:a.r})}},se=n=>{const{ctx:r,shade:c}=v(),u=Math.round(n.r/2.2),o=Math.round(.15*n.r),a=c(n.c||"blue",-3);return(s=r)=>{const{r:e,x:i=e,y:t=e}=n;s.lineCap="round",s.fillStyle=a,s.strokeStyle=a,s.lineWidth=u,s.beginPath(),s.moveTo(i+o,t),s.lineTo(i-o/2,t-o),s.lineTo(i-o/2,t+o),s.closePath(),s.fill(),s.beginPath(),s.moveTo(i+o,t),s.lineTo(i-o/2,t-o),s.moveTo(i-o/2,t-o),s.lineTo(i-o/2,t+o),s.moveTo(i-o/2,t+o),s.lineTo(i+o,t),s.stroke()}},ie=()=>{const{addEventResize:n,useMeasure:r,useTimer:c,addEventClick:u,intersect:o,navigate:a,useScreenMeta:s}=v(),{from:e}=s();let i,t,d;return n(()=>{const{cx:l,cy:f,s:m,m:g}=r(),M=Math.round(m*.2);i={c:"#bef181",r:Math.round(M*.35),x:l+M+3*g,y:f+M-g,p:(e==="game"||e==="opening")&&!i},t=S(i),d=se(i)}),c(()=>{i.p=!1}),u((l,f)=>{o({x:l,y:f},i)&&(i.p=!0,c(()=>{a("game")},100))}),{render:()=>{t(),i.p||d()},point:()=>({x:i.x,y:i.y,r:i.r})}},ce=n=>{const{ctx:r,shade:c}=v(),u=Math.round(n.r/4),o=Math.round(.12*n.r),a=c(n.c||"blue",-3);return(s=r)=>{const{r:e,x:i=e,y:t=e}=n;s.lineCap="round",s.strokeStyle=a,s.lineWidth=u,s.beginPath(),s.moveTo(i-1.5*o,t-2*o),s.lineTo(i-1.5*o,t+2*o),s.stroke(),s.beginPath(),s.moveTo(i+1.5*o,t-2*o),s.lineTo(i+1.5*o,t+2*o),s.stroke()}},ae=()=>{const{navigate:n,addEventResize:r,addEventClick:c,useMeasure:u,rand:o,useTimer:a,intersect:s,useScreenMeta:e}=v(),{from:i}=e();let t=[],d=[],h,p,l;r(()=>{const{s:m}=u();t=[];const g=Math.round(m*X),M=Math.round(innerWidth/g/2)-1,y=(innerWidth-2*g*M)/(M+1),P=Math.round(innerHeight/g/2)-1,C=(innerHeight-2*g*P)/(P+1),R=innerWidth>=innerHeight;let w=0;for(let E=0;E<P;E++){for(let I=0;I<M;I++){k[w]||(w=0);const D={x:y+g+I*g*2+y*I,y:C+g+E*g*2+C*E,r:g,c:k[w],p:!0};E===0&&I===M-1?(h={...D,p:i==="main"&&!h},p=S(h),l=ce(D)):t.push(D),w+=R?1:0}w=R?0:w+1}d=t.map(E=>S(E))}),a(()=>{h.p=!1}),c((m,g)=>{s({x:m,y:g},h)&&(h.p=!0,a(()=>{n("main")},100))});const f=()=>{a(()=>{const m=o(t.length-1);t[m].p=!t[m].p,f()})};return f(),()=>{d.forEach(m=>m()),p(),h.p||l()}},b=100,_=2,T="#222",de=n=>{const r=(n==null?void 0:n[0])||0,c=(n==null?void 0:n[1])||0,u=(n==null?void 0:n[2])||0;return"#"+(16777216+(r<255?r<1?0:r:255)*65536+(c<255?c<1?0:c:255)*256+(u<255?u<1?0:u:255)).toString(16).slice(1)},$={},le=n=>{const{ctx:r,shade:c,createImg:u}=v();let o;$[n.imgSrc]?o=$[n.imgSrc]:(o=$[n.imgSrc]={img:new Image,cols:[],isFilled:!1,r:n.r,drawImg:null,score:n.score},o.img.src=n.imgSrc);const a=(t,d=r)=>{const{x:h,y:p,c:l,r:f,p:m}=t;m?(d.fillStyle=c(l,5),d.beginPath(),d.arc(h+f,p+f,f,0,Math.PI*2),d.closePath(),d.fill()):(d.fillStyle=l,d.beginPath(),d.arc(h+f,p+f,f+2,0,Math.PI*2),d.closePath(),d.fill())},s=()=>{const t=[],d=(n.r*2-2*_)/b;for(let h=0;h<b;h++)for(let p=0;p<b;p++){const l={x:_+p*d,y:_+h*d,r:d/2,c:h*100+p>=n.score?T:o.cols[p][h]};t.push(l)}return t},e=()=>{const t=s();o.drawImg=u((d=r)=>{t.filter(h=>h.c===T).forEach(h=>a(h,d)),t.filter(h=>h.c!==T).forEach(h=>a(h,d)),t.filter(h=>h.c!==T).forEach(h=>a({...h,p:!0},d))},2*n.r)},i=async()=>{var h;const t=document.createElement("canvas");t.width=b,t.height=b;const d=t.getContext("2d",{willReadFrequently:!0});d==null||d.drawImage(o.img,0,0);for(let p=0;p<b;p++){const l=[];for(let f=0;f<b;f++){const m=(h=d==null?void 0:d.getImageData(p,f,1,1))==null?void 0:h.data;l.push(de(m))}o.cols.push(l)}o.isFilled=!0,e()};return o.isFilled?(o.r!==n.r||o.score!==n.score)&&e():o.img.onload=i,(t=r)=>{const{x:d,y:h,r:p}=n;o.drawImg&&t.drawImage(o.drawImg,d-p,h-p,2*p,2*p)}},W=1e4,ue=()=>{const{addEventResize:n,useMeasure:r,translate:c}=v(),u=["/cat.png","/wolf.png","/city.png","/man.png","/baba.png","/donut.png","/girl.png","/home.png","/iron.png","/irr.png","/win.png"],o=G(u.length*W);let a,s=0,e=0,i=Math.floor(o/W);return n(()=>{const{cx:l,cy:f,s:m}=r();a=[],s=(m-2*m*.055*1.6)/2,e=m*.05;for(let g=0;g<u.length;g++){const M=u[g];a.push(le({x:l,y:f+g*s*2+g*e,r:s,score:o-g*W<0?0:o-g*W,imgSrc:M}))}}),{up:()=>{i=i+1<u.length?i+1:u.length-1},down:()=>{i=i-1<0?0:i-1},render:()=>{c(()=>{a==null||a.forEach(l=>l())},0,-(i*s*2+i*e))},rect:()=>{const{cx:l}=r();return{x:l-s,y:0,w:2*s,h:innerHeight}}}},he=()=>{const{addEventResize:n,useMeasure:r,useTimer:c,addEventClick:u,navigate:o,useScreenMeta:a}=v(),{from:s}=a();let e,i,t;return n(()=>{const{cx:p,cy:l,s:f,m}=r(),g=Math.round(f*.2);e={c:"#ba68c8",r:Math.round(f*.055),x:p-g-1*m,y:l-g+1*m,p:(s==="score"||s==="opening")&&!e},i=S(e),t=A({x:Number(e.x)-e.r+Math.round(e.r*.5),y:Number(e.y)-e.r+Math.round(e.r*.5),w:e.r*2-Math.round(e.r*1),src:"/star1.svg"})}),c(()=>{e.p=!1}),u((p,l)=>{x({x:p,y:l},e)&&(e.p=!0,c(()=>{o("score")},100))}),{render:()=>{i(),e.p||t()},point:()=>({x:e.x,y:e.y,r:e.r})}},pe=()=>{const{addEventResize:n,useMeasure:r,useTimer:c,addEventClick:u,intersect:o,navigate:a,useScreenMeta:s}=v(),{from:e}=s();let i,t,d;return n(()=>{const{s:l}=r(),f=Math.round(l*.055);i={c:"#ff6347",r:f,x:Math.round(1.6*f),y:Math.round(1.6*f),p:e==="main"&&!i},t=S(i),d=A({x:Number(i.x)-f+Math.round(f*.4),y:Number(i.y)-f+Math.round(f*.4),w:f*2-Math.round(f*.8),src:"/back.svg"})}),c(()=>{i.p=!1}),u((l,f)=>{o({x:l,y:f},i)&&(i.p=!0,c(()=>{a("main")},100))}),{render:()=>{t(),i.p||d()},point:()=>({x:i.x,y:i.y,r:i.r})}},fe=n=>{const{addEventResize:r,useMeasure:c,useTimer:u,addEventClick:o,intersect:a,rotate:s}=v();let e,i,t;return r(()=>{const{s:p}=c(),l=Math.round(p*.055);e={c:"#ff6347",r:l,x:Math.round(innerWidth-1.6*l),y:Math.round(innerHeight-1.6*l),p:!1},i=S(e),t=A({x:Number(e.x)-l+Math.round(l*.4),y:Number(e.y)-l+Math.round(l*.4),w:l*2-Math.round(l*.8),src:"/back.svg"})}),o((p,l)=>{a({x:p,y:l},e)&&(e.p=!0,n(),u(()=>{e.p=!1},100))}),{render:()=>{i(),e.p||s(()=>{t()},e.x,e.y,-.5)},point:()=>({x:e.x,y:e.y,r:e.r})}},ge=n=>{const{addEventResize:r,useMeasure:c,useTimer:u,addEventClick:o,intersect:a,rotate:s}=v();let e,i,t;return r(()=>{const{s:p}=c(),l=Math.round(p*.055);e={c:"#ff6347",r:l,x:Math.round(innerWidth-1.6*l),y:Math.round(innerHeight-1.6*l-2*l-.3*l),p:!1},i=S(e),t=A({x:Number(e.x)-l+Math.round(l*.4),y:Number(e.y)-l+Math.round(l*.4),w:l*2-Math.round(l*.8),src:"/back.svg"})}),o((p,l)=>{a({x:p,y:l},e)&&(e.p=!0,n(),u(()=>{e.p=!1},100))}),{render:()=>{i(),e.p||s(()=>{t()},e.x,e.y,.5)},point:()=>({x:e.x,y:e.y,r:e.r})}},me=()=>{const{addEventResize:n}=v(),{render:r,setIntersections:c}=j(),{render:u,point:o}=re(),{render:a,point:s}=ie(),{render:e,point:i}=he();return n(()=>{const t=i(),d=o(),h=s();c((p,l,f)=>!x({x:p,y:l,r:f},t)&&!x({x:p,y:l,r:f},d)&&!x({x:p,y:l,r:f},h))}),()=>{r(),u(),a(),e()}},Me=()=>{oe();const n=ae();return()=>{n()}},ve=()=>{const{addEventResize:n}=v(),{render:r,setIntersections:c}=j("#ffeb3b"),{render:u,rect:o,up:a,down:s}=ue(),{render:e,point:i}=pe(),{render:t,point:d}=fe(a),{render:h,point:p}=ge(s);return n(()=>{const l=i(),f=o(),m=d(),g=p();c((M,y,P)=>!x({x:M,y,r:P},l)&&!te({x:M,y,r:P},f)&&!x({x:M,y,r:P},m)&&!x({x:M,y,r:P},g))}),()=>{r(),u(),e(),t(),h()}},ye=()=>{const{ctx:n,addEventResize:r,loop:c}=v(),u={x:40,y:100};let o=1,a=1,s;const e=()=>{s=5*Math.ceil(Math.sqrt(innerWidth*innerWidth+innerHeight*innerHeight)/144)};return e(),r(e),c(()=>{u.x+=2*o,u.y+=3*a,o*=-1,a*=-1}),()=>{n.save();var i=Math.random()*2,t=Math.random()*3;n.translate(i,t),n.beginPath(),n.fillStyle="red",n.rect(u.x,u.y,s,s),n.fill(),n.restore()}},we=[{name:"main",ctor:me},{name:"game",ctor:Me},{name:"score",ctor:ve},{name:"devs",ctor:ye}];ne(we);document.title="Your's last Pop it";
