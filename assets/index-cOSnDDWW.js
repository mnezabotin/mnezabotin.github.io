(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))f(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const o of c.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&f(o)}).observe(document,{childList:!0,subtree:!0});function a(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function f(i){if(i.ep)return;i.ep=!0;const c=a(i);fetch(i.href,c)}})();const ee=()=>{const e=document.createElement("canvas"),n=e.getContext("2d");if(!n)throw new Error("CanvasRenderingContext2D is null");const a=()=>{e.width=innerWidth*devicePixelRatio,e.height=innerHeight*devicePixelRatio,n.scale(devicePixelRatio,devicePixelRatio)},f=s=>{n.clearRect(0,0,innerWidth,innerHeight),s()};return a(),document.body.appendChild(e),{ctx:n,render:f,resize:a,rotate:(s,u,d,h)=>{n.save(),n.translate(u,d),n.rotate(Math.PI*h),n.translate(-u,-d),s(),n.restore()},translate:(s,u,d)=>{n.save(),n.translate(u,d),s(),n.restore()},shade:(s,u)=>{s=s.substring(1);const d=parseInt(s,16),h=Math.round(2.55*u),l=(d>>16)+h,p=(d>>8&255)+h,m=(d&255)+h;return"#"+(16777216+(l<255?l<1?0:l:255)*65536+(p<255?p<1?0:p:255)*256+(m<255?m<1?0:m:255)).toString(16).slice(1)},setBackground:(s,u)=>{var d;document.body.style.background=s,document.body.style.backgroundColor=u||s,(d=document.querySelector('meta[name="theme-color"]'))==null||d.setAttribute("content",u||s)},createImg:(s,u,d=u)=>{const h=document.createElement("canvas"),l=h.getContext("2d");if(!l)throw new Error("CanvasRenderingContext2D is null");return h.width=u*devicePixelRatio,h.height=d*devicePixelRatio,l.scale(devicePixelRatio,devicePixelRatio),s(l),h}}},te=e=>{let n="",a="",f;const i=t=>e.find(r=>r.name===t)||e[0],o={render:()=>{},navigate:(t,r)=>{const s=i(t);a=n||"",n=(s==null?void 0:s.name)||"",f=r,o.render=(s==null?void 0:s.ctor())||(()=>{})},useScreenMeta:()=>({to:n,from:a,data:f})};return o},ne=()=>{const e=requestAnimationFrame||(o=>setTimeout(o,16.666666666666668)),n=[],a={};return{loop:(o,t)=>{if(Object.entries(a).find(([s,u])=>u===o)||t&&a[t])throw new Error(`Loop${t?" "+t:""} already specified`);t&&n.push(t),t=t||new Date().valueOf().toString(),a[t]=o;const r=()=>{o(),a[t]&&e(r)};r()},stop:o=>{if(typeof o=="string")delete a[o];else{const t=Object.entries(a).find(([r,s])=>s===o);t&&delete a[t[0]]}},stopAll:()=>{for(const o in a)n.indexOf(o)===-1&&delete a[o]}}};let H=[];const oe=()=>{for(const e of H)clearTimeout(e);H=[]},re=(e,n=400)=>{let a=new Date,f=n,i=setTimeout(e,f);return H.push(i),{pause:()=>{clearTimeout(i),f-=new Date-a},resume:()=>{a=new Date,clearTimeout(i),i=setTimeout(e,f),H.push(i)},stop:()=>{clearTimeout(i)}}},j=2147483646,$=2147483647,se=16807,ce=(e=Math.floor(Math.random()*$))=>{e=e%$,e<=0&&(e+=j);const n=()=>(e=e*se%$,e),a=()=>(n()-1)/j;return(i,c)=>(c===void 0&&(c=i,i=0),Math.floor(a()*(c-i+1))+i)},ie=(e,n)=>(n===void 0&&(n=e,e=0),Math.floor(Math.random()*(n-e+1))+e),ae=()=>{const e=[],n=[],a=[];return{addEventResize:u=>{u(),e.push(u)},onResizeEvents:()=>e.forEach(u=>u()),addEventClick:u=>n.push(u),onClickEvents:(u,d)=>n.forEach(h=>h(u,d)),addEventMove:u=>a.push(u),onMoveEvents:(u,d)=>a.forEach(h=>h(u,d)),removeAllEvents:()=>{e.splice(0),n.splice(0),a.splice(0)}}},T=(e,n)=>{const a=Math.pow(Math.abs(e.x-n.x),2),f=Math.pow(Math.abs(e.y-n.y),2),i=e.r||0,c=n.r||0,o=Math.pow(i+c,2);return a+f<=o},de=(e,n)=>{const a=e.r||0,f=n.w||0,i=n.h||0;return Math.abs(n.x+f/2-e.x)<=f/2+a&&Math.abs(n.y+i/2-e.y)<=i/2+a},le=(e,n)=>T(e,n),ue=e=>{const n={},a=i=>{const c=i.split("/");return c[c.length-1].split(".")[0]};return(()=>{for(const i of e){const c=new Audio(i);c.volume=.25,c.addEventListener("ended",function(){this.currentTime=0});const o=a(i);n[o]={audio:c,path:i}}})(),i=>{var r,s;const c=(r=n[i])==null?void 0:r.audio,o=(s=n[i])==null?void 0:s.path;if(!(!c||!o))if(c.currentTime===0)c.play();else{var t=new Audio(o);t.volume=.25,t.play()}}};let O;const he=(e,n)=>{if(O)throw new Error("Webcore already specified");const a=ee(),f=te(e),{loop:i,stop:c,stopAll:o}=ne(),{addEventResize:t,onResizeEvents:r,addEventClick:s,onClickEvents:u,addEventMove:d,onMoveEvents:h,removeAllEvents:l}=ae();let p=innerWidth/2,m=innerHeight/2,g=innerWidth<innerHeight?innerWidth:innerHeight,v=Math.ceil(Math.sqrt(innerWidth*innerWidth+innerHeight*innerHeight)/144);const y=()=>({cx:p,cy:m,s:g,m:v}),E=ue([]);O={font:"Tijuf",ctx:a.ctx,shade:a.shade,rotate:a.rotate,translate:a.translate,setBackground:a.setBackground,createImg:a.createImg,useMeasure:y,useScreenMeta:f.useScreenMeta,navigate:(M,P)=>{if(!e.some(x=>x.name===M))throw new Error(`Screen ${M} not specified`);o(),oe(),l(),new Promise(()=>f.navigate(M,P))},loop:i,loopStop:c,useTimer:re,rand:ie,useRandChain:ce,intersect:le,addEventResize:t,addEventClick:s,addEventMove:d,playAudio:E},i(()=>a.render(f.render),"draw"),window.onresize=()=>{p=innerWidth/2,m=innerHeight/2,g=innerWidth<innerHeight?innerWidth:innerHeight,v=Math.ceil(Math.sqrt(innerWidth*innerWidth+innerHeight*innerHeight)/144),a.resize(),r()},document.onpointerdown=M=>{u(M.clientX,M.clientY)},document.onmousemove=M=>{h(M.clientX,M.clientY)},f.navigate()},S=()=>{if(!O)throw new Error("Webcore not specified");return{...O}},B={},C=e=>{const{shade:n,ctx:a,createImg:f}=S(),i=()=>{const{r:o,c:t="#ffffff",p:r}=e,s=a.createRadialGradient(o,o,o,o,o,o/5);return s.addColorStop(0,n(t,0)),s.addColorStop(.01,n(t,0)),s.addColorStop(.075,n(t,9)),s.addColorStop(.15,n(t,0)),s.addColorStop(.15,n(t,-15)),s.addColorStop(.18,n(t,-5)),s.addColorStop(.22,n(t,-15)),r?(s.addColorStop(.24,n(t,-10)),s.addColorStop(.3,n(t,-8)),s.addColorStop(.34,n(t,-12)),s.addColorStop(.6,n(t,-6)),s.addColorStop(1,n(t,-4))):(s.addColorStop(.24,n(t,-12)),s.addColorStop(.26,n(t,-8)),s.addColorStop(.3,n(t,-2)),s.addColorStop(.34,n(t,0)),s.addColorStop(.5,n(t,5)),s.addColorStop(1,n(t,10))),s},c=()=>{const{r:o,c:t="#ffffff",p:r}=e,s=`${t}_${r?"push":"pop"}_${o}`;if(B[s])return B[s];const u=f((d=a)=>{const h=i();d.fillStyle=h,d.beginPath(),d.arc(o,o,o,0,2*Math.PI),d.closePath(),d.fill()},2*o);return B[s]=u,u};return(o=a)=>{const{x:t,y:r,r:s}=e,u=c();o.drawImage(u,t-s,r-s,2*s,2*s)}},F={},k=e=>{const{ctx:n}=S();let a;return F[e.src]?a=F[e.src]:(a=new Image,a.src=e.src,F[e.src]=a),(f=n)=>{const{w:i,h:c=i,x:o=0,y:t=0}=e;a.complete&&f.drawImage(a,o,t,i,c)}},q=e=>{const{font:n,ctx:a}=S(),f=e.text,i=e.text.length,c=2*Math.PI/i/4;return(o=a)=>{const{x:t,y:r,r:s,s:u=0,fs:d}=e,h=d||Math.round(s/4);o.textAlign="center",o.fillStyle="#f9f9f9",o.font=`${h}px ${n}`,o.save(),o.translate(t,r),o.rotate(u);for(let l=0;l<i;l++)o.save(),o.rotate(l*c),o.fillText(f[l],0,-s),o.restore();o.restore()}},fe=()=>{var y,E;const{ctx:e,loop:n,rotate:a,navigate:f,useMeasure:i,addEventClick:c,addEventResize:o,setBackground:t}=S();t("#040404");let r=!1,s,u,d,h,l,p=-.2,m=0;o(()=>{const{cx:M,cy:P,s:x}=i(),w=Math.round(x*.25);s={c:"#ff6347",x:M,y:P,r:w,p:!1},u=C(s),d=k({x:M-w+Math.round(w*.35),y:P-w+Math.round(w*.35),w:w*2-Math.round(w*.7),src:"/media/sloth.svg"}),h=q({text:"nezabotin",x:M,y:P,r:Math.round(w*1.1),s:Math.PI*1.6}),l=q({text:"production",x:M,y:P,r:Math.round(w*1.1),s:Math.PI*2.6})});const g=()=>{p+=.01,m=p>=1?1:p,p>=1.8&&(s.p=!0),p>=2.2&&(s.c="#f86a9a"),p>=2.6&&f("main")};c(()=>{[1.4,1.8,2.2,2.6].some(M=>{if(p<M)return p=M,!0})});const v=()=>{n(g),r=!0};return(y=document==null?void 0:document.fonts)!=null&&y.ready?(E=document==null?void 0:document.fonts)==null||E.ready.then(v):v(),()=>{const{cx:M,cy:P}=i();e.globalAlpha=r?1:0,u(),p<1.8&&d(),p<1.4&&a(()=>{h(),l()},M,P,m),e.globalAlpha=1}},pe=()=>{const{addEventResize:e,useMeasure:n,useTimer:a,useScreenMeta:f,navigate:i,addEventClick:c,intersect:o}=S(),{from:t}=f();let r,s,u;return e(()=>{const{cx:l,cy:p,s:m,m:g}=n(),v=Math.round(m*.25);r={c:"#ba68c8",r:Math.round(m*.08),x:l-v-1*g,y:p-v+1*g,p:(t==="score"||t==="opening")&&!r},s=C(r),u=k({x:Number(r.x)-r.r+Math.round(r.r*.5),y:Number(r.y)-r.r+Math.round(r.r*.5),w:r.r*2-Math.round(r.r*1),src:"/media/star.svg"})}),a(()=>{r.p=!1}),c((l,p)=>{o({x:l,y:p},r)&&(r.p=!0,a(()=>{i("score")},100))}),{render:()=>{s(),r.p||u()},point:()=>({x:r.x,y:r.y,r:r.r})}},ge=()=>{const{addEventResize:e,useMeasure:n,useTimer:a,useScreenMeta:f,navigate:i,addEventClick:c,intersect:o}=S(),{from:t}=f();let r,s,u;return e(()=>{const{s:l}=n(),p=Math.round(l*.08);r={c:"#ff6347",r:p,x:Math.round(1.6*p),y:Math.round(1.6*p),p:t==="main"&&!r},s=C(r),u=k({x:Number(r.x)-p+Math.round(p*.4),y:Number(r.y)-p+Math.round(p*.4),w:p*2-Math.round(p*.8),src:"/media/back.svg"})}),a(()=>{r.p=!1}),c((l,p)=>{o({x:l,y:p},r)&&(r.p=!0,a(()=>{i("main")},100))}),{render:()=>{s(),r.p||u()},point:()=>({x:r.x,y:r.y,r:r.r})}},me=e=>{const{addEventResize:n,useMeasure:a,useTimer:f,addEventClick:i,intersect:c,rotate:o}=S();let t,r,s;return n(()=>{const{s:h}=a(),l=Math.round(h*.055);t={c:"#ff6347",r:l,x:Math.round(innerWidth-1.6*l),y:Math.round(innerHeight-1.6*l),p:!1},r=C(t),s=k({x:Number(t.x)-l+Math.round(l*.4),y:Number(t.y)-l+Math.round(l*.4),w:l*2-Math.round(l*.8),src:"/media/back.svg"})}),i((h,l)=>{c({x:h,y:l},t)&&(t.p=!0,e(),f(()=>{t.p=!1},100))}),{render:()=>{r(),t.p||o(()=>{s()},t.x,t.y,-.5)},point:()=>({x:t.x,y:t.y,r:t.r})}},ve=e=>{const{addEventResize:n,useMeasure:a,useTimer:f,addEventClick:i,intersect:c,rotate:o}=S();let t,r,s;return n(()=>{const{s:h}=a(),l=Math.round(h*.055);t={c:"#ff6347",r:l,x:Math.round(innerWidth-1.6*l),y:Math.round(innerHeight-1.6*l-2*l-.3*l),p:!1},r=C(t),s=k({x:Number(t.x)-l+Math.round(l*.4),y:Number(t.y)-l+Math.round(l*.4),w:l*2-Math.round(l*.8),src:"/media/back.svg"})}),i((h,l)=>{c({x:h,y:l},t)&&(t.p=!0,e(),f(()=>{t.p=!1},100))}),{render:()=>{r(),t.p||o(()=>{s()},t.x,t.y,.5)},point:()=>({x:t.x,y:t.y,r:t.r})}},Me=e=>{const{ctx:n,shade:a}=S(),f=Math.round(e.r/2.2),i=Math.round(.15*e.r),c=a(e.c||"blue",-3);return(o=n)=>{const{r:t,x:r=t,y:s=t}=e;o.lineCap="round",o.fillStyle=c,o.strokeStyle=c,o.lineWidth=f,o.beginPath(),o.moveTo(r+i,s),o.lineTo(r-i/2,s-i),o.lineTo(r-i/2,s+i),o.closePath(),o.fill(),o.beginPath(),o.moveTo(r+i,s),o.lineTo(r-i/2,s-i),o.moveTo(r-i/2,s-i),o.lineTo(r-i/2,s+i),o.moveTo(r-i/2,s+i),o.lineTo(r+i,s),o.stroke()}},ye=()=>{const{addEventResize:e,useMeasure:n,useTimer:a,useScreenMeta:f,navigate:i,addEventClick:c,intersect:o}=S(),{from:t}=f();let r,s,u;return e(()=>{const{cx:l,cy:p,s:m,m:g}=n(),v=Math.round(m*.25);r={c:"#bef181",r:Math.round(m*.1),x:l+v+2*g,y:p+v,p:(t==="game"||t==="opening")&&!r},s=C(r),u=Me(r)}),a(()=>{r.p=!1}),c((l,p)=>{o({x:l,y:p},r)&&(r.p=!0,a(()=>{i("game")},100))}),{render:()=>{s(),r.p||u()},point:()=>({x:r.x,y:r.y,r:r.r})}},X=e=>{const{font:n,ctx:a}=S();return(f=a)=>{const{text:i,x:c,c:o,y:t,fs:r,a:s="center",mw:u}=e;f.textAlign=s,f.fillStyle=o,f.font=`${r}px ${n}`,f.fillText(i,c,t,u)}},Ee=()=>{const{addEventResize:e,useMeasure:n,useTimer:a,useScreenMeta:f}=S(),{from:i}=f();let c,o,t,r;return e(()=>{const{cx:d,cy:h,s:l}=n(),p=Math.round(l*.25);c={c:"#f86a9a",x:d,y:h,r:p,p:i==="opening"&&!c},o=C(c),t=X({text:"Yola",c:"#f1f1f1",x:d,y:h-p+Math.round(p*.9),fs:Math.round(p/2.6),mw:p*2}),r=X({text:"PopiT",c:"#ffeb3b",x:d,y:h-p+Math.round(p*1.3),fs:Math.round(p/2.3),mw:p*2})}),a(()=>c.p=!1),{render:()=>{o(),c.p||(t(),r())},point:()=>({x:c.x,y:c.y,r:c.r})}},K=({color:e="#00dcfe",frequency:n=25})=>{const{addEventResize:a,useRandChain:f,useMeasure:i,rand:c,useTimer:o,setBackground:t,useScreenMeta:r}=S(),{from:s}=r();t(e);const u=c(0,999);let d=[],h=[];a(()=>{const g=f(u),{s:v}=i();d=[];const y=Math.round(v*.05),E=Math.round(innerWidth/y/2)-1,M=Math.round((innerWidth-2*y*E)/(E+1)),P=Math.round(innerHeight/y/2)-1,x=Math.round((innerHeight-2*y*P)/(P+1));for(let w=0;w<P;w++)for(let b=0;b<E;b++)g(g(n))<1&&d.push({x:M+y+b*y*2+M*b,y:x+y+w*y*2+x*w,r:y,c:e,p:s==="opening"?!0:g(1)>0});h=d.map(w=>C(w))});const l=()=>{o(()=>{const g=c(d.length-1);d[g]&&(d[g].p=!d[g].p),l()},750)};return s==="opening"?o(()=>{d.forEach(g=>g.p=c(1)>0),l()}):l(),{render:()=>{h.forEach(g=>g())},setIntersections:g=>{d=d.filter(({x:v,y,r:E})=>g(v,y,E)),h=d.map(v=>C(v))}}},U=(e=!1)=>{const n=["#f86a9a","#C69FEE","#5bb2f7","#92E6E6","#7ceab2","#bef181","#EFCD74","#fd8059"],{addEventResize:a,useMeasure:f,setBackground:i}=S();return e||a(()=>{const{s:o}=f(),t=Math.round(o*.14),r=Math.round(innerWidth/t/2)-1,s=(innerWidth-2*t*r)/(r+1),u=Math.round(innerHeight/t/2)-1,d=(innerHeight-2*t*u)/(u+1),h=innerWidth>=innerHeight,l=h?r:u,p=h?s:d,m=h?innerWidth:innerHeight;let g=0;const v=[];for(let E=0;E<l;E++)n[g]||(g=0),v.push(`${n[g]} ${(p+t+E*t*2+p*E)/m*100}%`),g++;i(`linear-gradient(${h?"to right":"to bottom"}, ${v.join(", ")})`,n[0])}),n},Pe=e=>{const{ctx:n,shade:a}=S(),f=Math.round(e.r/4),i=Math.round(.12*e.r);return(c=n)=>{const{r:o,x:t=o,y:r=o}=e,s=a(e.c||"blue",-3);c.lineCap="round",c.strokeStyle=s,c.lineWidth=f,c.beginPath(),c.moveTo(t-1.5*i,r-2*i),c.lineTo(t-1.5*i,r+2*i),c.stroke(),c.beginPath(),c.moveTo(t+1.5*i,r-2*i),c.lineTo(t+1.5*i,r+2*i),c.stroke()}},J=({palette:e,retry:n})=>{const{addEventResize:a,useMeasure:f,rand:i,useTimer:c,useScreenMeta:o,navigate:t,addEventClick:r,intersect:s}=S(),{from:u}=o(),d=[];let h=[],l,p,m,g;const v=E=>Array.isArray(e)?e[E]:e;return a(()=>{const{s:E}=f();d.splice(0);const M=Math.round(E*.14),P=Math.round(innerWidth/M/2)-1,x=(innerWidth-2*M*P)/(P+1),w=Math.round(innerHeight/M/2)-1,b=(innerHeight-2*M*w)/(w+1),D=innerWidth>=innerHeight;let W=0;for(let I=0;I<w;I++){for(let z=0;z<P;z++){v(W)||(W=0);const G={x:x+M+z*M*2+x*z,y:b+M+I*M*2+b*I,r:M,c:v(W),p:!0};I===0&&z===P-1?(g={...G,p:(u==="main"||u==="gameover"||u==="gamescore")&&!g},l=C(g),p=Pe(g)):d.push(G),W+=D?1:0}W=D?0:W+1}n&&(m=d[i(d.length-1)],c(()=>{m.p=!1})),h=d.map(I=>C(I))}),c(()=>{g.p=!1}),n&&r((E,M)=>{s({x:E,y:M},m)&&(m.p=!0,c(()=>{t("game")},100))}),r((E,M)=>{s({x:E,y:M},g)&&(g.p=!0,c(()=>{t("main")},100))}),{render:()=>{h.forEach(E=>E()),l(),g!=null&&g.p||p()},popits:d}},R=100,L=2,A="#222",Se=e=>{const n=(e==null?void 0:e[0])||0,a=(e==null?void 0:e[1])||0,f=(e==null?void 0:e[2])||0;return"#"+(16777216+(n<255?n<1?0:n:255)*65536+(a<255?a<1?0:a:255)*256+(f<255?f<1?0:f:255)).toString(16).slice(1)},N={},we=e=>{const{ctx:n,shade:a,createImg:f,useRandChain:i}=S();let c;N[e.imgSrc]?c=N[e.imgSrc]:(c=N[e.imgSrc]={img:new Image,cols:[],isFilled:!1,r:e.r,drawImg:null,score:e.score},c.img.src=e.imgSrc);const o=(u,d=n)=>{const{x:h,y:l,c:p,r:m,p:g}=u;g?(d.fillStyle=a(p,5),d.beginPath(),d.arc(h+m,l+m,m,0,Math.PI*2),d.closePath(),d.fill()):(d.fillStyle=p,d.beginPath(),d.arc(h+m,l+m,m+2,0,Math.PI*2),d.closePath(),d.fill())},t=()=>{const u=[],d=(e.r*2-2*L)/R;for(let m=0;m<R;m++)for(let g=0;g<R;g++){const v={x:L+g*d,y:L+m*d,r:d/2,c:A};u.push(v)}let h=e.score;const l=[...u],p=i(0);for(let m=h;m>0;m--){const g=p(l.length-1),v=l[g],y=u.indexOf(v);v.c=c.cols[y],l.splice(g,1)}return u},r=()=>{const u=t();c.drawImg=f((d=n)=>{u.filter(h=>h.c===A).forEach(h=>o(h,d)),u.filter(h=>h.c!==A).forEach(h=>o(h,d)),u.filter(h=>h.c!==A).forEach(h=>o({...h,p:!0},d))},2*e.r)},s=async()=>{var h;const u=document.createElement("canvas");u.width=R,u.height=R;const d=u.getContext("2d",{willReadFrequently:!0});d==null||d.drawImage(c.img,0,0);for(let l=0;l<R;l++){const p=[];for(let m=0;m<R;m++){const g=(h=d==null?void 0:d.getImageData(m,l,1,1))==null?void 0:h.data;p.push(Se(g))}c.cols.push(...p)}c.isFilled=!0,r()};return c.isFilled?(c.r!==e.r||c.score!==e.score)&&r():c.img.onload=s,(u=n)=>{const{x:d,y:h,r:l}=e;c.drawImg&&u.drawImage(c.drawImg,d-l,h-l,2*l,2*l)}},Y="ylp",V="score",Q=()=>{const e=c=>localStorage.getItem(`${Y}_${c}`),n=(c,o)=>localStorage.setItem(`${Y}_${c}`,o.toString()),a=()=>+(e(V)||0),f=c=>n(V,c);return{getScore:a,setScore:f,addScore:c=>{const o=a();f(o+c)}}},_=1e4,Z=()=>{const{addEventResize:e,useMeasure:n,translate:a}=S(),{getScore:f}=Q(),i=["/media/cat.png"],c=f();let o,t=0,r=0,s=Math.floor(c/_);return e(()=>{const{cx:p,cy:m,s:g}=n();o=[],t=(g-2*g*.055*1.6)/2,r=g*.05;for(let v=0;v<i.length;v++){const y=i[v];o.push(we({x:p,y:m+v*t*2+v*r,r:t,score:c-v*_<0?0:c-v*_,imgSrc:y}))}}),{up:()=>{s=s+1<i.length?s+1:i.length-1},down:()=>{s=s-1<0?0:s-1},render:()=>{a(()=>{o==null||o.forEach(p=>p())},0,-(s*t*2+s*r))},rect:()=>{const{cx:p,cy:m}=n(),g=innerWidth>innerHeight;return{x:g?p-t:0,y:g?0:m-t,w:g?2*t:innerWidth,h:g?innerHeight:2*t}}}},xe=e=>{const{useTimer:n,rand:a,addEventClick:f,addEventMove:i,intersect:c,navigate:o}=S(),{addScore:t}=Q();let r=[],s,u,d=!1,h=0,l=0;const p=()=>{u=n(()=>{if(e.length===r.length){d=!0,u.stop(),n(()=>{o("gameover")});return}const y=e.filter(P=>r.indexOf(P)===-1),E=a(y.length-1),M=y[E];M&&(M.p=!1,r.push(y[E])),p()})},m=y=>{r=[];const E=e.length;let M=a(Math.round(E*.3),Math.round(E*.6));const P=[...e];if(y){const x=P.indexOf(y);P.splice(x,1)}for(let x=M;x>0;x--){const w=a(P.length-1),b=P[w];b.p=!1,r.push(b),P.splice(w,1)}s==null||s.stop(),u==null||u.stop(),s=n(p,r.length*350),h=h>0?h:a(3,5)},g=y=>{l++,y.p=!0;const E=r.indexOf(y);r.splice(E,1),r.length<=0&&(h--,h>0?m(y):(t(l),o("gamescore")))},v=(y,E)=>{if(!d)for(const M of r)c({x:y,y:E},M)&&g(M)};f(v),i(v),n(()=>{m()})},Ce=()=>{const{addEventResize:e}=S(),{render:n,setIntersections:a}=K({}),{render:f,point:i}=Ee(),{render:c,point:o}=ye(),{render:t,point:r}=pe();return e(()=>{const s=r(),u=i(),d=o();a((h,l,p)=>!T({x:h,y:l,r:p},s)&&!T({x:h,y:l,r:p},u)&&!T({x:h,y:l,r:p},d))}),()=>{n(),f(),c(),t()}},be=()=>{const e=U(),{popits:n,render:a}=J({palette:e});return xe(n),()=>{a()}},Ie=()=>{const e="#ff6347",{setBackground:n}=S(),{render:a}=J({palette:e,retry:!0});return n(e),()=>{a()}},Re=()=>{const{addEventClick:e,navigate:n}=S();U();const{render:a}=Z();return e(()=>{n("game")}),()=>{a()}},Te=()=>{const{addEventResize:e}=S(),{render:n,setIntersections:a}=K({color:"#ffeb3b",frequency:10}),{render:f,rect:i,up:c,down:o}=Z(),{render:t,point:r}=ge(),{point:s}=me(c),{point:u}=ve(o);return e(()=>{const d=r(),h=i(),l=s(),p=u();a((m,g,v)=>!T({x:m,y:g,r:v},d)&&!de({x:m,y:g,r:v},h)&&!T({x:m,y:g,r:v},l)&&!T({x:m,y:g,r:v},p))}),()=>{n(),f(),t()}},We=()=>{const{ctx:e,addEventResize:n,loop:a}=S(),f={x:40,y:100};let i=1,c=1,o;const t=()=>{o=5*Math.ceil(Math.sqrt(innerWidth*innerWidth+innerHeight*innerHeight)/144)};return t(),n(t),a(()=>{f.x+=2*i,f.y+=3*c,i*=-1,c*=-1}),()=>{e.save();var r=Math.random()*2,s=Math.random()*3;e.translate(r,s),e.beginPath(),e.fillStyle="red",e.rect(f.x,f.y,o,o),e.fill(),e.restore()}},ze=[{name:"opening",ctor:fe},{name:"main",ctor:Ce},{name:"game",ctor:be},{name:"gameover",ctor:Ie},{name:"gamescore",ctor:Re},{name:"score",ctor:Te},{name:"devs",ctor:We}];he(ze);document.title="Your's last Popit";
