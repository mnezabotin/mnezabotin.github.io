(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))u(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&u(r)}).observe(document,{childList:!0,subtree:!0});function c(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(n){if(n.ep)return;n.ep=!0;const o=c(n);fetch(n.href,o)}})();const Y=()=>{const t=document.createElement("canvas"),s=t.getContext("2d");if(!s)throw new Error("CanvasRenderingContext2D is null");const c=()=>{t.width=innerWidth*devicePixelRatio,t.height=innerHeight*devicePixelRatio,s.scale(devicePixelRatio,devicePixelRatio)},u=i=>{s.clearRect(0,0,innerWidth,innerHeight),i()};return c(),document.body.appendChild(t),{ctx:s,render:u,resize:c,rotate:(i,a,d,f)=>{s.save(),s.translate(a,d),s.rotate(Math.PI*f),s.translate(-a,-d),i(),s.restore()},translate:(i,a,d)=>{s.save(),s.translate(a,d),i(),s.restore()},shade:(i,a)=>{i=i.substring(1);const d=parseInt(i,16),f=Math.round(2.55*a),h=(d>>16)+f,p=(d>>8&255)+f,g=(d&255)+f;return"#"+(16777216+(h<255?h<1?0:h:255)*65536+(p<255?p<1?0:p:255)*256+(g<255?g<1?0:g:255)).toString(16).slice(1)},setBackground:(i,a)=>{var d;document.body.style.background=i,document.body.style.backgroundColor=a||i,(d=document.querySelector('meta[name="theme-color"]'))==null||d.setAttribute("content",a||i)},createImg:(i,a,d=a)=>{const f=document.createElement("canvas"),h=f.getContext("2d");if(!h)throw new Error("CanvasRenderingContext2D is null");return f.width=a*devicePixelRatio,f.height=d*devicePixelRatio,h.scale(devicePixelRatio,devicePixelRatio),i(h),f}}},K=t=>{let s="",c="",u;const n=e=>t.find(l=>l.name===e)||t[0],r={render:()=>{},navigate:(e,l)=>{const i=n(e);c=s||"",s=(i==null?void 0:i.name)||"",u=l,r.render=(i==null?void 0:i.ctor())||(()=>{})},useScreenMeta:()=>({to:s,from:c,data:u})};return r},J=()=>{const t=requestAnimationFrame||(r=>setTimeout(r,16.666666666666668)),s=[],c={};return{loop:(r,e)=>{if(Object.entries(c).find(([i,a])=>a===r)||e&&c[e])throw new Error(`Loop${e?" "+e:""} already specified`);e&&s.push(e),e=e||new Date().valueOf().toString(),c[e]=r;const l=()=>{r(),c[e]&&t(l)};l()},stop:r=>{if(typeof r=="string")delete c[r];else{const e=Object.entries(c).find(([l,i])=>i===r);e&&delete c[e[0]]}},stopAll:()=>{for(const r in c)s.indexOf(r)===-1&&delete c[r]}}};let H=[];const Q=()=>{for(const t of H)clearTimeout(t);H=[]},Z=(t,s=400)=>{let c=new Date,u=s,n=setTimeout(t,u);return H.push(n),{pause:()=>{clearTimeout(n),u-=new Date-c},resume:()=>{c=new Date,clearTimeout(n),n=setTimeout(t,u),H.push(n)},stop:()=>{clearTimeout(n)}}},G=2147483646,N=2147483647,ee=16807,te=(t=Math.floor(Math.random()*N))=>{t=t%N,t<=0&&(t+=G);const s=()=>(t=t*ee%N,t),c=()=>(s()-1)/G;return(n,o)=>(o===void 0&&(o=n,n=0),Math.floor(c()*(o-n+1))+n)},ne=(t,s)=>(s===void 0&&(s=t,t=0),Math.floor(Math.random()*(s-t+1))+t),oe=()=>{const t=[],s=[];return{addEventResize:e=>{e(),t.push(e)},onResizeEvents:()=>t.forEach(e=>e()),addEventClick:e=>{s.push(e)},onClickEvents:(e,l)=>s.forEach(i=>i(e,l)),removeAllEvents:()=>{t.splice(0),s.splice(0)}}},I=(t,s)=>{const c=Math.pow(Math.abs(t.x-s.x),2),u=Math.pow(Math.abs(t.y-s.y),2),n=t.r||0,o=s.r||0,r=Math.pow(n+o,2);return c+u<=r},re=(t,s)=>{const c=t.r||0,u=s.w||0,n=s.h||0;return Math.abs(s.x+u/2-t.x)<=u/2+c&&Math.abs(s.y+n/2-t.y)<=n/2+c},se=(t,s)=>I(t,s),ie=t=>{const s={},c=n=>{const o=n.split("/");return o[o.length-1].split(".")[0]};return(()=>{for(const n of t){const o=new Audio(n);o.volume=.25,o.addEventListener("ended",function(){this.currentTime=0});const r=c(n);s[r]={audio:o,path:n}}})(),n=>{var l,i;const o=(l=s[n])==null?void 0:l.audio,r=(i=s[n])==null?void 0:i.path;if(!(!o||!r))if(o.currentTime===0)o.play();else{var e=new Audio(r);e.volume=.25,e.play()}}};let B;const ce=(t,s)=>{if(B)throw new Error("Webcore already specified");const c=Y(),u=K(t),{loop:n,stop:o,stopAll:r}=J(),{addEventResize:e,onResizeEvents:l,addEventClick:i,onClickEvents:a,removeAllEvents:d}=oe();let f=innerWidth/2,h=innerHeight/2,p=innerWidth<innerHeight?innerWidth:innerHeight,g=Math.ceil(Math.sqrt(innerWidth*innerWidth+innerHeight*innerHeight)/144);const M=()=>({cx:f,cy:h,s:p,m:g}),m=ie([]);B={font:"Tijuf",ctx:c.ctx,shade:c.shade,rotate:c.rotate,translate:c.translate,setBackground:c.setBackground,createImg:c.createImg,useMeasure:M,useScreenMeta:u.useScreenMeta,navigate:(y,E)=>{if(!t.some(P=>P.name===y))throw new Error(`Screen ${y} not specified`);r(),Q(),d(),new Promise(()=>u.navigate(y,E))},loop:n,loopStop:o,useTimer:Z,rand:ne,useRandChain:te,intersect:se,addEventResize:e,addEventClick:i,playAudio:m},n(()=>c.render(u.render),"draw"),window.onresize=()=>{f=innerWidth/2,h=innerHeight/2,p=innerWidth<innerHeight?innerWidth:innerHeight,g=Math.ceil(Math.sqrt(innerWidth*innerWidth+innerHeight*innerHeight)/144),c.resize(),l()},document.onpointerdown=y=>{a(y.clientX,y.clientY)},u.navigate()},v=()=>{if(!B)throw new Error("Webcore not specified");return{...B}},O={},b=t=>{const{shade:s,ctx:c,createImg:u}=v(),n=()=>{const{r,c:e="#ffffff",p:l}=t,i=c.createRadialGradient(r,r,r,r,r,r/5);return i.addColorStop(0,s(e,0)),i.addColorStop(.01,s(e,0)),i.addColorStop(.075,s(e,9)),i.addColorStop(.15,s(e,0)),i.addColorStop(.15,s(e,-15)),i.addColorStop(.18,s(e,-5)),i.addColorStop(.22,s(e,-15)),l?(i.addColorStop(.24,s(e,-10)),i.addColorStop(.3,s(e,-8)),i.addColorStop(.34,s(e,-12)),i.addColorStop(.6,s(e,-6)),i.addColorStop(1,s(e,-4))):(i.addColorStop(.24,s(e,-12)),i.addColorStop(.26,s(e,-8)),i.addColorStop(.3,s(e,-2)),i.addColorStop(.34,s(e,0)),i.addColorStop(.5,s(e,5)),i.addColorStop(1,s(e,10))),i},o=()=>{const{r,c:e="#ffffff",p:l}=t,i=`${e}_${l?"push":"pop"}_${r}`;if(O[i])return O[i];const a=u((d=c)=>{const f=n();d.fillStyle=f,d.beginPath(),d.arc(r,r,r,0,2*Math.PI),d.closePath(),d.fill()},2*r);return O[i]=a,a};return(r=c)=>{const{x:e,y:l,r:i}=t,a=o();r.drawImage(a,e-i,l-i,2*i,2*i)}},F={},W=t=>{const{ctx:s}=v();let c;return F[t.src]?c=F[t.src]:(c=new Image,c.src=t.src,F[t.src]=c),(u=s)=>{const{w:n,h:o=n,x:r=0,y:e=0}=t;c.complete&&u.drawImage(c,r,e,n,o)}},_=t=>{const{font:s,ctx:c}=v(),u=t.text,n=t.text.length,o=2*Math.PI/n/4;return(r=c)=>{const{x:e,y:l,r:i,s:a=0,fs:d}=t,f=d||Math.round(i/4);r.textAlign="center",r.fillStyle="#f9f9f9",r.font=`${f}px ${s}`,r.save(),r.translate(e,l),r.rotate(a);for(let h=0;h<n;h++)r.save(),r.rotate(h*o),r.fillText(u[h],0,-i),r.restore();r.restore()}},ae=()=>{var y,E;const{ctx:t,loop:s,rotate:c,navigate:u,useMeasure:n,addEventClick:o,addEventResize:r,setBackground:e}=v();e("#040404");let l=!1,i,a,d,f,h,p=-.2,g=0;r(()=>{const{cx:P,cy:x,s:S}=n(),w=Math.round(S*.25);i={c:"#ff6347",x:P,y:x,r:w,p:!1},a=b(i),d=W({x:P-w+Math.round(w*.35),y:x-w+Math.round(w*.35),w:w*2-Math.round(w*.7),src:"/media/sloth.svg"}),f=_({text:"nezabotin",x:P,y:x,r:Math.round(w*1.1),s:Math.PI*1.6}),h=_({text:"production",x:P,y:x,r:Math.round(w*1.1),s:Math.PI*2.6})});const M=()=>{p+=.01,g=p>=1?1:p,p>=1.8&&(i.p=!0),p>=2.2&&(i.c="#f86a9a"),p>=2.6&&u("main")};o(()=>{[1.4,1.8,2.2,2.6].some(P=>{if(p<P)return p=P,!0})});const m=()=>{s(M),l=!0};return(y=document==null?void 0:document.fonts)!=null&&y.ready?(E=document==null?void 0:document.fonts)==null||E.ready.then(m):m(),()=>{const{cx:P,cy:x}=n();t.globalAlpha=l?1:0,a(),p<1.8&&d(),p<1.4&&c(()=>{f(),h()},P,x,g),t.globalAlpha=1}},z=(t,s)=>{const{addEventClick:c,intersect:u,useTimer:n,navigate:o}=v();c((r,e)=>{u({x:r,y:e},t)&&(t.p=!0,n(()=>{o(s)},100))})},de=()=>{const{addEventResize:t,useMeasure:s,useTimer:c,useScreenMeta:u}=v(),{from:n}=u();let o={x:0,y:0,r:0},r,e;return t(()=>{const{cx:a,cy:d,s:f,m:h}=s(),p=Math.round(f*.25);o={c:"#ba68c8",r:Math.round(f*.08),x:a-p-1*h,y:d-p+1*h,p:(n==="score"||n==="opening")&&!o},r=b(o),e=W({x:Number(o.x)-o.r+Math.round(o.r*.5),y:Number(o.y)-o.r+Math.round(o.r*.5),w:o.r*2-Math.round(o.r*1),src:"/media/star.svg"})}),c(()=>{o.p=!1}),z(o,"score"),{render:()=>{r(),o.p||e()},point:()=>({x:o.x,y:o.y,r:o.r})}},le=()=>{const{addEventResize:t,useMeasure:s,useTimer:c,useScreenMeta:u}=v(),{from:n}=u();let o={x:0,y:0,r:0},r,e;return t(()=>{const{s:a}=s(),d=Math.round(a*.08);o={c:"#ff6347",r:d,x:Math.round(1.6*d),y:Math.round(1.6*d),p:n==="main"&&!o},r=b(o),e=W({x:Number(o.x)-d+Math.round(d*.4),y:Number(o.y)-d+Math.round(d*.4),w:d*2-Math.round(d*.8),src:"/media/back.svg"})}),c(()=>{o.p=!1}),z(o,"main"),{render:()=>{r(),o.p||e()},point:()=>({x:o.x,y:o.y,r:o.r})}},ue=t=>{const{addEventResize:s,useMeasure:c,useTimer:u,addEventClick:n,intersect:o,rotate:r}=v();let e,l,i;return s(()=>{const{s:f}=c(),h=Math.round(f*.055);e={c:"#ff6347",r:h,x:Math.round(innerWidth-1.6*h),y:Math.round(innerHeight-1.6*h),p:!1},l=b(e),i=W({x:Number(e.x)-h+Math.round(h*.4),y:Number(e.y)-h+Math.round(h*.4),w:h*2-Math.round(h*.8),src:"/media/back.svg"})}),n((f,h)=>{o({x:f,y:h},e)&&(e.p=!0,t(),u(()=>{e.p=!1},100))}),{render:()=>{l(),e.p||r(()=>{i()},e.x,e.y,-.5)},point:()=>({x:e.x,y:e.y,r:e.r})}},he=t=>{const{addEventResize:s,useMeasure:c,useTimer:u,addEventClick:n,intersect:o,rotate:r}=v();let e,l,i;return s(()=>{const{s:f}=c(),h=Math.round(f*.055);e={c:"#ff6347",r:h,x:Math.round(innerWidth-1.6*h),y:Math.round(innerHeight-1.6*h-2*h-.3*h),p:!1},l=b(e),i=W({x:Number(e.x)-h+Math.round(h*.4),y:Number(e.y)-h+Math.round(h*.4),w:h*2-Math.round(h*.8),src:"/media/back.svg"})}),n((f,h)=>{o({x:f,y:h},e)&&(e.p=!0,t(),u(()=>{e.p=!1},100))}),{render:()=>{l(),e.p||r(()=>{i()},e.x,e.y,.5)},point:()=>({x:e.x,y:e.y,r:e.r})}},fe=t=>{const{ctx:s,shade:c}=v(),u=Math.round(t.r/2.2),n=Math.round(.15*t.r),o=c(t.c||"blue",-3);return(r=s)=>{const{r:e,x:l=e,y:i=e}=t;r.lineCap="round",r.fillStyle=o,r.strokeStyle=o,r.lineWidth=u,r.beginPath(),r.moveTo(l+n,i),r.lineTo(l-n/2,i-n),r.lineTo(l-n/2,i+n),r.closePath(),r.fill(),r.beginPath(),r.moveTo(l+n,i),r.lineTo(l-n/2,i-n),r.moveTo(l-n/2,i-n),r.lineTo(l-n/2,i+n),r.moveTo(l-n/2,i+n),r.lineTo(l+n,i),r.stroke()}},pe=()=>{const{addEventResize:t,useMeasure:s,useTimer:c,useScreenMeta:u}=v(),{from:n}=u();let o={x:0,y:0,r:0},r,e;return t(()=>{const{cx:a,cy:d,s:f,m:h}=s(),p=Math.round(f*.25);o={c:"#bef181",r:Math.round(f*.1),x:a+p+2*h,y:d+p,p:(n==="game"||n==="opening")&&!o},r=b(o),e=fe(o)}),c(()=>{o.p=!1}),z(o,"game"),{render:()=>{r(),o.p||e()},point:()=>({x:o.x,y:o.y,r:o.r})}},j=t=>{const{font:s,ctx:c}=v();return(u=c)=>{const{text:n,x:o,c:r,y:e,fs:l,a:i="center",mw:a}=t;u.textAlign=i,u.fillStyle=r,u.font=`${l}px ${s}`,u.fillText(n,o,e,a)}},me=()=>{const{addEventResize:t,useMeasure:s,useTimer:c,useScreenMeta:u}=v(),{from:n}=u();let o,r,e,l;return t(()=>{const{cx:d,cy:f,s:h}=s(),p=Math.round(h*.25);o={c:"#f86a9a",x:d,y:f,r:p,p:n==="opening"&&!o},r=b(o),e=j({text:"Yola",c:"#f1f1f1",x:d,y:f-p+Math.round(p*.9),fs:Math.round(p/2.6),mw:p*2}),l=j({text:"PopiT",c:"#ffeb3b",x:d,y:f-p+Math.round(p*1.3),fs:Math.round(p/2.3),mw:p*2})}),c(()=>o.p=!1),{render:()=>{r(),o.p||(e(),l())},point:()=>({x:o.x,y:o.y,r:o.r})}},q=(t="#00dcfe")=>{const{addEventResize:s,useRandChain:c,useMeasure:u,rand:n,useTimer:o,setBackground:r,useScreenMeta:e}=v(),{from:l}=e();r(t);const i=n(0,999);let a=[],d=[];s(()=>{const g=c(i),{s:M}=u();a=[];const m=Math.round(M*.05),y=Math.round(innerWidth/m/2)-1,E=Math.round((innerWidth-2*m*y)/(y+1)),P=Math.round(innerHeight/m/2)-1,x=Math.round((innerHeight-2*m*P)/(P+1));for(let S=0;S<P;S++)for(let w=0;w<y;w++)g(g(25))<1&&a.push({x:E+m+w*m*2+E*w,y:x+m+S*m*2+x*S,r:m,c:t,p:l==="opening"?!0:g(1)>0});d=a.map(S=>b(S))});const f=()=>{o(()=>{const g=n(a.length-1);a[g]&&(a[g].p=!a[g].p),f()})};return l==="opening"?o(()=>{a.forEach(g=>g.p=n(1)>0),f()}):f(),{render:()=>{d.forEach(g=>g())},setIntersections:g=>{a=a.filter(({x:M,y:m,r:y})=>g(M,m,y)),d=a.map(M=>b(M))}}},X=(t=!1)=>{const s=["#f86a9a","#C69FEE","#5bb2f7","#92E6E6","#7ceab2","#bef181","#EFCD74","#fd8059"],{addEventResize:c,useMeasure:u,setBackground:n}=v();return t||c(()=>{const{s:r}=u(),e=Math.round(r*.14),l=Math.round(innerWidth/e/2)-1,i=(innerWidth-2*e*l)/(l+1),a=Math.round(innerHeight/e/2)-1,d=(innerHeight-2*e*a)/(a+1),f=innerWidth>=innerHeight,h=f?l:a,p=f?i:d,g=f?innerWidth:innerHeight;let M=0;const m=[];for(let E=0;E<h;E++)s[M]||(M=0),m.push(`${s[M]} ${(p+e+E*e*2+p*E)/g*100}%`),M++;n(`linear-gradient(${f?"to right":"to bottom"}, ${m.join(", ")})`,s[0])}),s},ge=t=>{const{ctx:s,shade:c}=v(),u=Math.round(t.r/4),n=Math.round(.12*t.r);return(o=s)=>{const{r,x:e=r,y:l=r}=t,i=c(t.c||"blue",-3);o.lineCap="round",o.strokeStyle=i,o.lineWidth=u,o.beginPath(),o.moveTo(e-1.5*n,l-2*n),o.lineTo(e-1.5*n,l+2*n),o.stroke(),o.beginPath(),o.moveTo(e+1.5*n,l-2*n),o.lineTo(e+1.5*n,l+2*n),o.stroke()}},U=({palette:t,retry:s})=>{const{addEventResize:c,useMeasure:u,rand:n,useTimer:o,useScreenMeta:r}=v(),{from:e}=r(),l=[];let i=[],a,d,f={x:0,y:0,r:0},h={x:0,y:0,r:0};const p=M=>Array.isArray(t)?t[M]:t;return c(()=>{const{s:M}=u();l.splice(0);const m=Math.round(M*.14),y=Math.round(innerWidth/m/2)-1,E=(innerWidth-2*m*y)/(y+1),P=Math.round(innerHeight/m/2)-1,x=(innerHeight-2*m*P)/(P+1),S=innerWidth>=innerHeight;let w=0;for(let C=0;C<P;C++){for(let T=0;T<y;T++){p(w)||(w=0);const $={x:E+m+T*m*2+E*T,y:x+m+C*m*2+x*C,r:m,c:p(w),p:!0};C===0&&T===y-1?(h={...$,p:(e==="main"||e==="gameover"||e==="gamescore")&&!h},a=b(h),d=ge(h)):l.push($),w+=S?1:0}w=S?0:w+1}s&&(f=l[n(l.length-1)],o(()=>{f.p=!1})),i=l.map(C=>b(C))}),o(()=>{h.p=!1}),s&&z(f,"game"),z(h,"main"),{render:()=>{i.forEach(M=>M()),a(),h!=null&&h.p||d()},popits:l}},R=100,L=2,A="#222",Me=t=>{const s=(t==null?void 0:t[0])||0,c=(t==null?void 0:t[1])||0,u=(t==null?void 0:t[2])||0;return"#"+(16777216+(s<255?s<1?0:s:255)*65536+(c<255?c<1?0:c:255)*256+(u<255?u<1?0:u:255)).toString(16).slice(1)},D={},ye=t=>{const{ctx:s,shade:c,createImg:u}=v();let n;D[t.imgSrc]?n=D[t.imgSrc]:(n=D[t.imgSrc]={img:new Image,cols:[],isFilled:!1,r:t.r,drawImg:null,score:t.score},n.img.src=t.imgSrc);const o=(i,a=s)=>{const{x:d,y:f,c:h,r:p,p:g}=i;g?(a.fillStyle=c(h,5),a.beginPath(),a.arc(d+p,f+p,p,0,Math.PI*2),a.closePath(),a.fill()):(a.fillStyle=h,a.beginPath(),a.arc(d+p,f+p,p+2,0,Math.PI*2),a.closePath(),a.fill())},r=()=>{const i=[],a=(t.r*2-2*L)/R;for(let d=0;d<R;d++)for(let f=0;f<R;f++){const h={x:L+f*a,y:L+d*a,r:a/2,c:d*100+f>=t.score?A:n.cols[f][d]};i.push(h)}return i},e=()=>{const i=r();n.drawImg=u((a=s)=>{i.filter(d=>d.c===A).forEach(d=>o(d,a)),i.filter(d=>d.c!==A).forEach(d=>o(d,a)),i.filter(d=>d.c!==A).forEach(d=>o({...d,p:!0},a))},2*t.r)},l=async()=>{var d;const i=document.createElement("canvas");i.width=R,i.height=R;const a=i.getContext("2d",{willReadFrequently:!0});a==null||a.drawImage(n.img,0,0);for(let f=0;f<R;f++){const h=[];for(let p=0;p<R;p++){const g=(d=a==null?void 0:a.getImageData(f,p,1,1))==null?void 0:d.data;h.push(Me(g))}n.cols.push(h)}n.isFilled=!0,e()};return n.isFilled?(n.r!==t.r||n.score!==t.score)&&e():n.img.onload=l,(i=s)=>{const{x:a,y:d,r:f}=t;n.drawImg&&i.drawImage(n.drawImg,a-f,d-f,2*f,2*f)}},k=1e4,V=()=>{const{addEventResize:t,useMeasure:s,translate:c,rand:u}=v(),n=["/media/cat.png"],o=u(n.length*k);let r,e=0,l=0,i=Math.floor(o/k);return t(()=>{const{cx:p,cy:g,s:M}=s();r=[],e=(M-2*M*.055*1.6)/2,l=M*.05;for(let m=0;m<n.length;m++){const y=n[m];r.push(ye({x:p,y:g+m*e*2+m*l,r:e,score:o-m*k<0?0:o-m*k,imgSrc:y}))}}),{up:()=>{i=i+1<n.length?i+1:n.length-1},down:()=>{i=i-1<0?0:i-1},render:()=>{c(()=>{r==null||r.forEach(p=>p())},0,-(i*e*2+i*l))},rect:()=>{const{cx:p}=s();return{x:p-e,y:0,w:2*e,h:innerHeight}}}},ve=t=>{const{useTimer:s,rand:c,addEventClick:u,intersect:n,navigate:o}=v();let r=[],e,l,i=!1,a=0;const d=()=>{l=s(()=>{if(t.length===r.length){i=!0,l.stop(),s(()=>{o("gameover")});return}const p=t.filter(m=>r.indexOf(m)===-1),g=c(p.length-1),M=p[g];M&&(M.p=!1,r.push(p[g])),d()})},f=p=>{r=[];const g=t.length;let M=c(Math.round(g*.3),Math.round(g*.6));const m=[...t];if(p){const y=m.indexOf(p);m.splice(y,1)}for(let y=M;y>0;y--){const E=c(m.length-1),P=m[E];P.p=!1,r.push(P),m.splice(E,1)}e==null||e.stop(),l==null||l.stop(),e=s(d,r.length*250),a=a>0?a:c(3,5)},h=p=>{p.p=!0;const g=r.indexOf(p);r.splice(g,1),r.length<=0&&(a--,a>0?f(p):o("gamescore"))};u((p,g)=>{if(!i)for(const M of r)n({x:p,y:g},M)&&h(M)}),s(()=>{f()})},Pe=()=>{const{addEventResize:t}=v(),{render:s,setIntersections:c}=q(),{render:u,point:n}=me(),{render:o,point:r}=pe(),{render:e,point:l}=de();return t(()=>{const i=l(),a=n(),d=r();c((f,h,p)=>!I({x:f,y:h,r:p},i)&&!I({x:f,y:h,r:p},a)&&!I({x:f,y:h,r:p},d))}),()=>{s(),u(),o(),e()}},we=()=>{const t=X(),{popits:s,render:c}=U({palette:t});return ve(s),()=>{c()}},Ee=()=>{const t="#ff6347",{setBackground:s}=v(),{render:c}=U({palette:t,retry:!0});return s(t),()=>{c()}},xe=()=>{const{addEventClick:t,navigate:s}=v();X();const{render:c}=V();return t(()=>{s("game")}),()=>{c()}},Se=()=>{const{addEventResize:t}=v(),{render:s,setIntersections:c}=q("#ffeb3b"),{render:u,rect:n,up:o,down:r}=V(),{render:e,point:l}=le(),{point:i}=ue(o),{point:a}=he(r);return t(()=>{const d=l(),f=n(),h=i(),p=a();c((g,M,m)=>!I({x:g,y:M,r:m},d)&&!re({x:g,y:M,r:m},f)&&!I({x:g,y:M,r:m},h)&&!I({x:g,y:M,r:m},p))}),()=>{s(),u(),e()}},be=()=>{const{ctx:t,addEventResize:s,loop:c}=v(),u={x:40,y:100};let n=1,o=1,r;const e=()=>{r=5*Math.ceil(Math.sqrt(innerWidth*innerWidth+innerHeight*innerHeight)/144)};return e(),s(e),c(()=>{u.x+=2*n,u.y+=3*o,n*=-1,o*=-1}),()=>{t.save();var l=Math.random()*2,i=Math.random()*3;t.translate(l,i),t.beginPath(),t.fillStyle="red",t.rect(u.x,u.y,r,r),t.fill(),t.restore()}},Ce=[{name:"opening",ctor:ae},{name:"main",ctor:Pe},{name:"game",ctor:we},{name:"gameover",ctor:Ee},{name:"gamescore",ctor:xe},{name:"score",ctor:Se},{name:"devs",ctor:be}];ce(Ce);document.title="Your's last PopiT";
