(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function c(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(n){if(n.ep)return;n.ep=!0;const a=c(n);fetch(n.href,a)}})();const X=()=>{const e=document.createElement("canvas"),s=e.getContext("2d");if(!s)throw new Error("CanvasRenderingContext2D is null");const c=()=>{e.width=innerWidth*devicePixelRatio,e.height=innerHeight*devicePixelRatio,s.scale(devicePixelRatio,devicePixelRatio)},l=t=>{s.clearRect(0,0,innerWidth,innerHeight),t()};return c(),document.body.appendChild(e),{ctx:s,render:l,resize:c,rotate:(t,d,u,h)=>{s.save(),s.translate(d,u),s.rotate(Math.PI*h),s.translate(-d,-u),t(),s.restore()},translate:(t,d,u)=>{s.save(),s.translate(d,u),t(),s.restore()},shade:(t,d)=>{t=t.substring(1);const u=parseInt(t,16),h=Math.round(2.55*d),f=(u>>16)+h,p=(u>>8&255)+h,g=(u&255)+h;return"#"+(16777216+(f<255?f<1?0:f:255)*65536+(p<255?p<1?0:p:255)*256+(g<255?g<1?0:g:255)).toString(16).slice(1)},setBackground:(t,d)=>{var u;document.body.style.background=t,document.body.style.backgroundColor=d||t,(u=document.querySelector('meta[name="theme-color"]'))==null||u.setAttribute("content",d||t)},createImg:(t,d,u=d)=>{const h=document.createElement("canvas"),f=h.getContext("2d");if(!f)throw new Error("CanvasRenderingContext2D is null");return h.width=d*devicePixelRatio,h.height=u*devicePixelRatio,f.scale(devicePixelRatio,devicePixelRatio),t(f),h}}},U=e=>{let s="",c="",l;const n=o=>e.find(i=>i.name===o)||e[0],r={render:()=>{},navigate:(o,i)=>{const t=n(o);c=s||"",s=(t==null?void 0:t.name)||"",l=i,r.render=(t==null?void 0:t.ctor())||(()=>{})},useScreenMeta:()=>({to:s,from:c,data:l})};return r},V=()=>{const e=requestAnimationFrame||(r=>setTimeout(r,16.666666666666668)),s=[],c={};return{loop:(r,o)=>{if(Object.entries(c).find(([t,d])=>d===r)||o&&c[o])throw new Error(`Loop${o?" "+o:""} already specified`);o&&s.push(o),o=o||new Date().valueOf().toString(),c[o]=r;const i=()=>{r(),c[o]&&e(i)};i()},stop:r=>{if(typeof r=="string")delete c[r];else{const o=Object.entries(c).find(([i,t])=>t===r);o&&delete c[o[0]]}},stopAll:()=>{for(const r in c)s.indexOf(r)===-1&&delete c[r]}}};let W=[];const Y=()=>{for(const e of W)clearTimeout(e);W=[]},K=(e,s=400)=>{let c=new Date,l=s,n=setTimeout(e,l);return W.push(n),{pause:()=>{clearTimeout(n),l-=new Date-c},resume:()=>{c=new Date,clearTimeout(n),n=setTimeout(e,l),W.push(n)},stop:()=>{clearTimeout(n)}}},$=2147483646,B=2147483647,J=16807,Q=(e=Math.floor(Math.random()*B))=>{e=e%B,e<=0&&(e+=$);const s=()=>(e=e*J%B,e),c=()=>(s()-1)/$;return(n,a)=>(a===void 0&&(a=n,n=0),Math.floor(c()*(a-n+1))+n)},Z=(e,s)=>(s===void 0&&(s=e,e=0),Math.floor(Math.random()*(s-e+1))+e),tt=()=>{const e=[],s=[];return{addEventResize:o=>{o(),e.push(o)},onResizeEvents:()=>e.forEach(o=>o()),addEventClick:o=>{s.push(o)},onClickEvents:(o,i)=>s.forEach(t=>t(o,i)),removeAllEvents:()=>{e.splice(0),s.splice(0)}}},et=(e,s)=>{const c=e.r||0,l=s.r||0,n=e.x||0,a=e.y||0,r=s.x||0,o=s.y||0,i=Math.pow(Math.abs(n-r),2),t=Math.pow(Math.abs(a-o),2),d=Math.pow(c+l,2);return i+t<=d},I=(e,s)=>{const c=Math.pow(Math.abs(e.x-s.x),2),l=Math.pow(Math.abs(e.y-s.y),2),n=e.r||0,a=s.r||0,r=Math.pow(n+a,2);return c+l<=r},nt=(e,s)=>{const c=e.r||0,l=s.w||0,n=s.h||0;return Math.abs(s.x+l/2-e.x)<=l/2+c&&Math.abs(s.y+n/2-e.y)<=n/2+c},ot=e=>{const s={},c=n=>{const a=n.split("/");return a[a.length-1].split(".")[0]};return(()=>{for(const n of e){const a=new Audio(n);a.addEventListener("ended",function(){this.currentTime=0});const r=c(n);s[r]={audio:a,path:n}}})(),n=>{var i,t;const a=(i=s[n])==null?void 0:i.audio,r=(t=s[n])==null?void 0:t.path;if(!(!a||!r))if(a.currentTime===0)a.play();else{var o=new Audio(r);o.play()}}};let H;const rt=(e,s)=>{if(H)throw new Error("Webcore already specified");const c=X(),l=U(e),{loop:n,stop:a,stopAll:r}=V(),{addEventResize:o,onResizeEvents:i,addEventClick:t,onClickEvents:d,removeAllEvents:u}=tt();let h=innerWidth/2,f=innerHeight/2,p=innerWidth<innerHeight?innerWidth:innerHeight,g=Math.ceil(Math.sqrt(innerWidth*innerWidth+innerHeight*innerHeight)/144);const M=()=>({cx:h,cy:f,s:p,m:g}),m=ot([]);H={font:"Tijuf",ctx:c.ctx,shade:c.shade,rotate:c.rotate,translate:c.translate,setBackground:c.setBackground,createImg:c.createImg,useMeasure:M,useScreenMeta:l.useScreenMeta,navigate:(y,P)=>{if(!e.some(v=>v.name===y))throw new Error(`Screen ${y} not specified`);r(),Y(),u(),new Promise(()=>l.navigate(y,P))},loop:n,loopStop:a,useTimer:K,rand:Z,useRandChain:Q,intersect:et,addEventResize:o,addEventClick:t,playAudio:m},n(()=>c.render(l.render),"draw"),window.onresize=()=>{h=innerWidth/2,f=innerHeight/2,p=innerWidth<innerHeight?innerWidth:innerHeight,g=Math.ceil(Math.sqrt(innerWidth*innerWidth+innerHeight*innerHeight)/144),c.resize(),i()},document.onpointerdown=y=>{d(y.clientX,y.clientY)},l.navigate()},w=()=>{if(!H)throw new Error("Webcore not specified");return{...H}},N={},b=e=>{const{shade:s,ctx:c,createImg:l}=w(),n=()=>{const{r,c:o="#ffffff",p:i}=e,t=c.createRadialGradient(r,r,r,r,r,r/5);return t.addColorStop(0,s(o,0)),t.addColorStop(.01,s(o,0)),t.addColorStop(.075,s(o,9)),t.addColorStop(.15,s(o,0)),t.addColorStop(.15,s(o,-15)),t.addColorStop(.18,s(o,-5)),t.addColorStop(.22,s(o,-15)),i?(t.addColorStop(.24,s(o,-10)),t.addColorStop(.3,s(o,-8)),t.addColorStop(.34,s(o,-12)),t.addColorStop(.6,s(o,-6)),t.addColorStop(1,s(o,-4))):(t.addColorStop(.24,s(o,-12)),t.addColorStop(.26,s(o,-8)),t.addColorStop(.3,s(o,-2)),t.addColorStop(.34,s(o,0)),t.addColorStop(.5,s(o,5)),t.addColorStop(1,s(o,10))),t},a=()=>{const{r,c:o="#ffffff",p:i}=e,t=`${o}_${i?"push":"pop"}_${r}`;if(N[t])return N[t];const d=l((u=c)=>{const h=n();u.fillStyle=h,u.beginPath(),u.arc(r,r,r,0,2*Math.PI),u.closePath(),u.fill()},2*r);return N[t]=d,d};return(r=c)=>{const{x:o,y:i,r:t}=e,d=a();r.drawImage(d,o-t,i-t,2*t,2*t)}},L={},k=e=>{const{ctx:s}=w();let c;return L[e.src]?c=L[e.src]:(c=new Image,c.src=e.src,L[e.src]=c),(l=s)=>{const{w:n,h:a=n,x:r=0,y:o=0}=e;c.complete&&l.drawImage(c,r,o,n,a)}},G=e=>{const{font:s,ctx:c}=w(),l=e.text,n=e.text.length,a=2*Math.PI/n/4;return(r=c)=>{const{x:o,y:i,r:t,s:d=0,fs:u}=e,h=u||Math.round(t/4);r.textAlign="center",r.fillStyle="#f9f9f9",r.font=`${h}px ${s}`,r.save(),r.translate(o,i),r.rotate(d);for(let f=0;f<n;f++)r.save(),r.rotate(f*a),r.fillText(l[f],0,-t),r.restore();r.restore()}},st=()=>{var y,P;const{ctx:e,loop:s,rotate:c,navigate:l,useMeasure:n,addEventClick:a,addEventResize:r,setBackground:o}=w();o("#040404");let i=!1,t,d,u,h,f,p=-.2,g=0;r(()=>{const{cx:v,cy:x,s:S}=n(),E=Math.round(S*.25);t={c:"#ff6347",x:v,y:x,r:E,p:!1},d=b(t),u=k({x:v-E+Math.round(E*.35),y:x-E+Math.round(E*.35),w:E*2-Math.round(E*.7),src:"/media/sloth.svg"}),h=G({text:"nezabotin",x:v,y:x,r:Math.round(E*1.1),s:Math.PI*1.6}),f=G({text:"production",x:v,y:x,r:Math.round(E*1.1),s:Math.PI*2.6})});const M=()=>{p+=.01,g=p>=1?1:p,p>=1.8&&(t.p=!0),p>=2.2&&(t.c="#f86a9a"),p>=2.6&&l("main")};a(()=>{[1.4,1.8,2.2,2.6].some(v=>{if(p<v)return p=v,!0})});const m=()=>{s(M),i=!0};return(y=document==null?void 0:document.fonts)!=null&&y.ready?(P=document==null?void 0:document.fonts)==null||P.ready.then(m):m(),()=>{const{cx:v,cy:x}=n();e.globalAlpha=i?1:0,d(),p<1.8&&u(),p<1.4&&c(()=>{h(),f()},v,x,g),e.globalAlpha=1}},it=()=>{const{addEventResize:e,useMeasure:s,useTimer:c,addEventClick:l,navigate:n,useScreenMeta:a,playAudio:r}=w(),{from:o}=a();let i,t,d;return e(()=>{const{cx:f,cy:p,s:g,m:M}=s(),m=Math.round(g*.25);i={c:"#ba68c8",r:Math.round(g*.08),x:f-m-1*M,y:p-m+1*M,p:(o==="score"||o==="opening")&&!i},t=b(i),d=k({x:Number(i.x)-i.r+Math.round(i.r*.5),y:Number(i.y)-i.r+Math.round(i.r*.5),w:i.r*2-Math.round(i.r*1),src:"/media/star.svg"})}),c(()=>{i.p=!1}),l((f,p)=>{I({x:f,y:p},i)&&(r("tap"),i.p=!0,c(()=>{n("score")},100))}),{render:()=>{t(),i.p||d()},point:()=>({x:i.x,y:i.y,r:i.r})}},ct=()=>{const{addEventResize:e,useMeasure:s,useTimer:c,addEventClick:l,intersect:n,navigate:a,useScreenMeta:r,playAudio:o}=w(),{from:i}=r();let t,d,u;return e(()=>{const{s:p}=s(),g=Math.round(p*.08);t={c:"#ff6347",r:g,x:Math.round(1.6*g),y:Math.round(1.6*g),p:i==="main"&&!t},d=b(t),u=k({x:Number(t.x)-g+Math.round(g*.4),y:Number(t.y)-g+Math.round(g*.4),w:g*2-Math.round(g*.8),src:"/media/back.svg"})}),c(()=>{t.p=!1}),l((p,g)=>{n({x:p,y:g},t)&&(o("tap"),t.p=!0,c(()=>{a("main")},100))}),{render:()=>{d(),t.p||u()},point:()=>({x:t.x,y:t.y,r:t.r})}},at=e=>{const{addEventResize:s,useMeasure:c,useTimer:l,addEventClick:n,intersect:a,rotate:r}=w();let o,i,t;return s(()=>{const{s:h}=c(),f=Math.round(h*.055);o={c:"#ff6347",r:f,x:Math.round(innerWidth-1.6*f),y:Math.round(innerHeight-1.6*f),p:!1},i=b(o),t=k({x:Number(o.x)-f+Math.round(f*.4),y:Number(o.y)-f+Math.round(f*.4),w:f*2-Math.round(f*.8),src:"/media/back.svg"})}),n((h,f)=>{a({x:h,y:f},o)&&(o.p=!0,e(),l(()=>{o.p=!1},100))}),{render:()=>{i(),o.p||r(()=>{t()},o.x,o.y,-.5)},point:()=>({x:o.x,y:o.y,r:o.r})}},dt=e=>{const{addEventResize:s,useMeasure:c,useTimer:l,addEventClick:n,intersect:a,rotate:r}=w();let o,i,t;return s(()=>{const{s:h}=c(),f=Math.round(h*.055);o={c:"#ff6347",r:f,x:Math.round(innerWidth-1.6*f),y:Math.round(innerHeight-1.6*f-2*f-.3*f),p:!1},i=b(o),t=k({x:Number(o.x)-f+Math.round(f*.4),y:Number(o.y)-f+Math.round(f*.4),w:f*2-Math.round(f*.8),src:"/media/back.svg"})}),n((h,f)=>{a({x:h,y:f},o)&&(o.p=!0,e(),l(()=>{o.p=!1},100))}),{render:()=>{i(),o.p||r(()=>{t()},o.x,o.y,.5)},point:()=>({x:o.x,y:o.y,r:o.r})}},lt=e=>{const{ctx:s,shade:c}=w(),l=Math.round(e.r/2.2),n=Math.round(.15*e.r),a=c(e.c||"blue",-3);return(r=s)=>{const{r:o,x:i=o,y:t=o}=e;r.lineCap="round",r.fillStyle=a,r.strokeStyle=a,r.lineWidth=l,r.beginPath(),r.moveTo(i+n,t),r.lineTo(i-n/2,t-n),r.lineTo(i-n/2,t+n),r.closePath(),r.fill(),r.beginPath(),r.moveTo(i+n,t),r.lineTo(i-n/2,t-n),r.moveTo(i-n/2,t-n),r.lineTo(i-n/2,t+n),r.moveTo(i-n/2,t+n),r.lineTo(i+n,t),r.stroke()}},ut=()=>{const{addEventResize:e,useMeasure:s,useTimer:c,addEventClick:l,intersect:n,navigate:a,useScreenMeta:r,playAudio:o}=w(),{from:i}=r();let t,d,u;return e(()=>{const{cx:p,cy:g,s:M,m}=s(),y=Math.round(M*.25);t={c:"#bef181",r:Math.round(M*.1),x:p+y+2*m,y:g+y,p:(i==="game"||i==="opening")&&!t},d=b(t),u=lt(t)}),c(()=>{t.p=!1}),l((p,g)=>{n({x:p,y:g},t)&&(o("tap"),t.p=!0,c(()=>{a("game")},100))}),{render:()=>{d(),t.p||u()},point:()=>({x:t.x,y:t.y,r:t.r})}},_=e=>{const{font:s,ctx:c}=w();return(l=c)=>{const{text:n,x:a,c:r,y:o,fs:i,a:t="center",mw:d}=e;l.textAlign=t,l.fillStyle=r,l.font=`${i}px ${s}`,l.fillText(n,a,o,d)}},ht=()=>{const{addEventResize:e,useMeasure:s,useTimer:c,useScreenMeta:l}=w(),{from:n}=l();let a,r,o,i;return e(()=>{const{cx:u,cy:h,s:f}=s(),p=Math.round(f*.25);a={c:"#f86a9a",x:u,y:h,r:p,p:n==="opening"&&!a},r=b(a),o=_({text:"Yola",c:"#f1f1f1",x:u,y:h-p+Math.round(p*.9),fs:Math.round(p/2.6),mw:p*2}),i=_({text:"PopiT",c:"#ffeb3b",x:u,y:h-p+Math.round(p*1.3),fs:Math.round(p/2.3),mw:p*2})}),c(()=>a.p=!1),{render:()=>{r(),a.p||(o(),i())},point:()=>({x:a.x,y:a.y,r:a.r})}},j=(e="#00dcfe")=>{const{addEventResize:s,useRandChain:c,useMeasure:l,rand:n,useTimer:a,setBackground:r,useScreenMeta:o}=w(),{from:i}=o();r(e);const t=n(0,999);let d=[],u=[];s(()=>{const g=c(t),{s:M}=l();d=[];const m=Math.round(M*.05),y=Math.round(innerWidth/m/2)-1,P=Math.round((innerWidth-2*m*y)/(y+1)),v=Math.round(innerHeight/m/2)-1,x=Math.round((innerHeight-2*m*v)/(v+1));for(let S=0;S<v;S++)for(let E=0;E<y;E++)g(g(25))<1&&d.push({x:P+m+E*m*2+P*E,y:x+m+S*m*2+x*S,r:m,c:e,p:i==="opening"?!0:g(1)>0});u=d.map(S=>b(S))});const h=()=>{a(()=>{const g=n(d.length-1);d[g].p=!d[g].p,h()})};return i==="opening"?a(()=>{d.forEach(g=>g.p=n(1)>0),h()}):h(),{render:()=>{u.forEach(g=>g())},setIntersections:g=>{d=d.filter(({x:M,y:m,r:y})=>g(M,m,y)),u=d.map(M=>b(M))}}},ft=e=>{const{addEventResize:s,useMeasure:c,setBackground:l}=w();s(()=>{const{s:n}=c(),a=Math.round(n*.14),r=Math.round(innerWidth/a/2)-1,o=(innerWidth-2*a*r)/(r+1),i=Math.round(innerHeight/a/2)-1,t=(innerHeight-2*a*i)/(i+1),d=innerWidth>=innerHeight,u=d?r:i,h=d?o:t,f=d?innerWidth:innerHeight;let p=0;const g=[];for(let m=0;m<u;m++)e[p]||(p=0),g.push(`${e[p]} ${(h+a+m*a*2+h*m)/f*100}%`),p++;l(`linear-gradient(${d?"to right":"to bottom"}, ${g.join(", ")})`,e[0])})},pt=e=>{const{ctx:s,shade:c}=w(),l=Math.round(e.r/4),n=Math.round(.12*e.r),a=c(e.c||"blue",-3);return(r=s)=>{const{r:o,x:i=o,y:t=o}=e;r.lineCap="round",r.strokeStyle=a,r.lineWidth=l,r.beginPath(),r.moveTo(i-1.5*n,t-2*n),r.lineTo(i-1.5*n,t+2*n),r.stroke(),r.beginPath(),r.moveTo(i+1.5*n,t-2*n),r.lineTo(i+1.5*n,t+2*n),r.stroke()}},mt=e=>{const{navigate:s,addEventResize:c,addEventClick:l,useMeasure:n,useTimer:a,intersect:r,useScreenMeta:o,playAudio:i}=w(),{from:t}=o(),d=[];let u=[],h,f,p;return c(()=>{const{s:M}=n();d.splice(0);const m=Math.round(M*.14),y=Math.round(innerWidth/m/2)-1,P=(innerWidth-2*m*y)/(y+1),v=Math.round(innerHeight/m/2)-1,x=(innerHeight-2*m*v)/(v+1),S=innerWidth>=innerHeight;let E=0;for(let C=0;C<v;C++){for(let T=0;T<y;T++){e[E]||(E=0);const O={x:P+m+T*m*2+P*T,y:x+m+C*m*2+x*C,r:m,c:e[E],p:!0};C===0&&T===y-1?(h={...O,p:t==="main"&&!h},f=b(h),p=pt(O)):d.push(O),E+=S?1:0}E=S?0:E+1}u=d.map(C=>b(C))}),a(()=>{h.p=!1}),l((M,m)=>{r({x:M,y:m},h)&&(i("tap"),h.p=!0,a(()=>{s("main")},100))}),{render:()=>{u.forEach(M=>M()),f(),h!=null&&h.p||p()},popits:d}},R=100,D=2,A="#222",gt=e=>{const s=(e==null?void 0:e[0])||0,c=(e==null?void 0:e[1])||0,l=(e==null?void 0:e[2])||0;return"#"+(16777216+(s<255?s<1?0:s:255)*65536+(c<255?c<1?0:c:255)*256+(l<255?l<1?0:l:255)).toString(16).slice(1)},F={},Mt=e=>{const{ctx:s,shade:c,createImg:l}=w();let n;F[e.imgSrc]?n=F[e.imgSrc]:(n=F[e.imgSrc]={img:new Image,cols:[],isFilled:!1,r:e.r,drawImg:null,score:e.score},n.img.src=e.imgSrc);const a=(t,d=s)=>{const{x:u,y:h,c:f,r:p,p:g}=t;g?(d.fillStyle=c(f,5),d.beginPath(),d.arc(u+p,h+p,p,0,Math.PI*2),d.closePath(),d.fill()):(d.fillStyle=f,d.beginPath(),d.arc(u+p,h+p,p+2,0,Math.PI*2),d.closePath(),d.fill())},r=()=>{const t=[],d=(e.r*2-2*D)/R;for(let u=0;u<R;u++)for(let h=0;h<R;h++){const f={x:D+h*d,y:D+u*d,r:d/2,c:u*100+h>=e.score?A:n.cols[h][u]};t.push(f)}return t},o=()=>{const t=r();n.drawImg=l((d=s)=>{t.filter(u=>u.c===A).forEach(u=>a(u,d)),t.filter(u=>u.c!==A).forEach(u=>a(u,d)),t.filter(u=>u.c!==A).forEach(u=>a({...u,p:!0},d))},2*e.r)},i=async()=>{var u;const t=document.createElement("canvas");t.width=R,t.height=R;const d=t.getContext("2d",{willReadFrequently:!0});d==null||d.drawImage(n.img,0,0);for(let h=0;h<R;h++){const f=[];for(let p=0;p<R;p++){const g=(u=d==null?void 0:d.getImageData(h,p,1,1))==null?void 0:u.data;f.push(gt(g))}n.cols.push(f)}n.isFilled=!0,o()};return n.isFilled?(n.r!==e.r||n.score!==e.score)&&o():n.img.onload=i,(t=s)=>{const{x:d,y:u,r:h}=e;n.drawImg&&t.drawImage(n.drawImg,d-h,u-h,2*h,2*h)}},z=1e4,q=()=>{const{addEventResize:e,useMeasure:s,translate:c,rand:l}=w(),n=["/media/cat.png"],a=l(n.length*z);let r,o=0,i=0,t=Math.floor(a/z);return e(()=>{const{cx:p,cy:g,s:M}=s();r=[],o=(M-2*M*.055*1.6)/2,i=M*.05;for(let m=0;m<n.length;m++){const y=n[m];r.push(Mt({x:p,y:g+m*o*2+m*i,r:o,score:a-m*z<0?0:a-m*z,imgSrc:y}))}}),{up:()=>{t=t+1<n.length?t+1:n.length-1},down:()=>{t=t-1<0?0:t-1},render:()=>{c(()=>{r==null||r.forEach(p=>p())},0,-(t*o*2+t*i))},rect:()=>{const{cx:p}=s();return{x:p-o,y:0,w:2*o,h:innerHeight}}}},yt=e=>{const{useTimer:s,rand:c,addEventClick:l,addEventResize:n,intersect:a,playAudio:r}=w(),o={state:"game",score:0};let i=0,t=[],d={x:0,y:0,r:0};const u=M=>{i=i>0?i:c(1,1),t=[];const m=e.length;let y=c(Math.round(m*.3),Math.round(m*.6));const P=[...e];if(M){const v=P.indexOf(M);P.splice(v,1)}for(let v=y;v>0;v--){const x=c(P.length-1),S=P[x];S.p=!1,t.push(S),P.splice(x,1)}},h=M=>{var y,P;r("tap"),(P=(y=window==null?void 0:window.navigator)==null?void 0:y.vibrate)==null||P.call(y,50),o.score++,i--,M.p=!0;const m=t.indexOf(M);t.splice(m,1),t.length<=0&&(i>0?u(M):o.state="results")},f=(M,m)=>{for(const y of t)a({x:M,y:m},y)&&h(y)},p=(M,m)=>{a({x:M,y:m},d)&&(i=0,u(d))},g=()=>{o.state="game",o.score=0,s(()=>{u()})};return l((M,m)=>{switch(o.state){case"game":f(M,m);break;case"gameover":p(M,m);break;default:g()}}),n(()=>{s(()=>{u()})}),o},vt=()=>{const{addEventResize:e}=w(),{render:s,setIntersections:c}=j(),{render:l,point:n}=ht(),{render:a,point:r}=ut(),{render:o,point:i}=it();return e(()=>{const t=i(),d=n(),u=r();c((h,f,p)=>!I({x:h,y:f,r:p},t)&&!I({x:h,y:f,r:p},d)&&!I({x:h,y:f,r:p},u))}),()=>{s(),l(),a(),o()}},wt=()=>{const e=["#f86a9a","#C69FEE","#5bb2f7","#92E6E6","#7ceab2","#bef181","#EFCD74","#fd8059"],{popits:s,render:c}=mt(e);ft(e);const l=yt(s),{render:n}=q();return()=>{l.state!=="results"&&c(),l.state==="results"&&n()}},Et=()=>{const{addEventResize:e}=w(),{render:s,setIntersections:c}=j("#ffeb3b"),{render:l,rect:n,up:a,down:r}=q(),{render:o,point:i}=ct(),{point:t}=at(a),{point:d}=dt(r);return e(()=>{const u=i(),h=n(),f=t(),p=d();c((g,M,m)=>!I({x:g,y:M,r:m},u)&&!nt({x:g,y:M,r:m},h)&&!I({x:g,y:M,r:m},f)&&!I({x:g,y:M,r:m},p))}),()=>{s(),l(),o()}},Pt=()=>{const{ctx:e,addEventResize:s,loop:c}=w(),l={x:40,y:100};let n=1,a=1,r;const o=()=>{r=5*Math.ceil(Math.sqrt(innerWidth*innerWidth+innerHeight*innerHeight)/144)};return o(),s(o),c(()=>{l.x+=2*n,l.y+=3*a,n*=-1,a*=-1}),()=>{e.save();var i=Math.random()*2,t=Math.random()*3;e.translate(i,t),e.beginPath(),e.fillStyle="red",e.rect(l.x,l.y,r,r),e.fill(),e.restore()}},xt=[{name:"opening",ctor:st},{name:"main",ctor:vt},{name:"game",ctor:wt},{name:"score",ctor:Et},{name:"devs",ctor:Pt}];rt(xt);document.title="Your's last Pop it";
